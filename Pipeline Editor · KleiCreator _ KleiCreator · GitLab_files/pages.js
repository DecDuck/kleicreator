(this.webpackJsonp=this.webpackJsonp||[]).push([[879],{"+bLF":function(e,t,i){"use strict";i.r(t);var n=i("q+nE"),a=i("EfTh"),r=i("voi4"),s=i("RzP1"),o=i("rGP7"),l=i("tyyr"),c=i.n(l),d=i("U+VU"),u=i.n(d),p=i("zjVX"),h=i.n(p),m=i("AXA5"),f=i.n(m),g=i("VaU5"),v=i("Dext"),b=i.n(v),k=i("zLBL"),y=i("lT7T"),S=i("yYHy"),C=i("t9l/"),w=i("5awt"),_={props:{hasUnsavedChanges:{type:Boolean,required:!0}},created(){window.addEventListener("beforeunload",this.confirmChanges)},destroyed(){window.removeEventListener("beforeunload",this.confirmChanges)},methods:{confirmChanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hasUnsavedChanges&&(e.preventDefault(),e.returnValue="")}},render:function(){return null}},N=i("bPvS"),P=Object(N.a)(_,void 0,void 0,!1,null,null,null).exports,j=i("cuRJ"),E=i("nPFI"),O=i("OkMp"),$=i("0X+3"),T=i("Gr03"),D=i("mSOq"),B=i("6HTq"),F=i("ly/8"),x=i("ENs1"),L=i("oj/M"),I=i("xWdu"),q=i.n(I),R=i("H+IJ"),V=i.n(R),A={i18n:{dropdownHeader:Object(C.a)("Switch branch"),title:Object(C.a)("Branches"),fetchError:Object(C.a)("Unable to fetch branch list for this project.")},inputDebounce:s.b,components:{GlDropdown:O.a,GlDropdownItem:$.a,GlDropdownSectionHeader:T.a,GlInfiniteScroll:D.a,GlLoadingIcon:k.a,GlSearchBoxByType:B.a},directives:{GlTooltip:F.a},inject:["projectFullPath","totalBranches"],props:{hasUnsavedChanges:{type:Boolean,required:!1,default:!1},paginationLimit:{type:Number,required:!1,default:s.a},shouldLoadNewBranch:{type:Boolean,required:!1,default:!1}},data(){return{availableBranches:[],branchSelected:null,pageLimit:this.paginationLimit,pageCounter:0,searchTerm:"",lastCommitBranch:""}},apollo:{availableBranches:{query:V.a,variables(){return{offset:0,projectFullPath:this.projectFullPath,...this.availableBranchesVariables}},update(e){var t,i;return(null===(t=e.project)||void 0===t?void 0:null===(i=t.repository)||void 0===i?void 0:i.branchNames)||[]},result(){this.pageCounter+=1},error(){this.showFetchError()}},currentBranch:{query:c.a,update:e=>e.workBranches.current.name},lastCommitBranch:{query:h.a,update:e=>e.workBranches.lastCommit.name,result(e){let{data:t}=e;if(t){const{name:e}=t.workBranches.lastCommit;if(""===e||this.availableBranches.includes(e))return;this.availableBranches.unshift(e)}}}},computed:{availableBranchesVariables(){return this.searchTerm.length>0?{limit:this.totalBranches,searchPattern:`*${this.searchTerm}*`}:{limit:this.paginationLimit,searchPattern:"*"}},enableBranchSwitcher(){return this.availableBranches.length>0||this.searchTerm.length>0},isBranchesLoading(){return this.$apollo.queries.availableBranches.loading}},watch:{shouldLoadNewBranch(e){e&&this.changeBranch(this.branchSelected)}},methods:{fetchNextBranches(){this.isBranchesLoading||this.searchTerm.length>0||this.availableBranches.length>=this.totalBranches||this.$apollo.queries.availableBranches.fetchMore({variables:{offset:this.pageCounter*this.paginationLimit},updateQuery(e,t){let{fetchMoreResult:i}=t;const n=e.project.repository.branchNames,a=i.project.repository.branchNames;return Object(x.b)(i,(function(e){e.project.repository.branchNames=n.concat(a)}))}}).catch(this.showFetchError)},async changeBranch(e){this.updateCurrentBranch(e);const t=Object(S.I)({branch_name:e});Object(L.s)(t),await this.$nextTick(),this.$emit("refetchContent")},selectBranch(e){e!==this.currentBranch&&(this.hasUnsavedChanges?(this.branchSelected=e,this.$emit("select-branch",e)):this.changeBranch(e))},async setSearchTerm(e){this.pageCounter=0,this.searchTerm=e.trim()},showFetchError(){this.$emit("showError",{type:s.j,reasons:[this.$options.i18n.fetchError]})},updateCurrentBranch(e){this.$apollo.mutate({mutation:q.a,variables:{currentBranch:e}})}}},M={components:{BranchSwitcher:Object(N.a)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.$options.i18n.dropdownHeader,"header-text":e.$options.i18n.dropdownHeader,text:e.currentBranch,disabled:!e.enableBranchSwitcher,icon:"branch","data-qa-selector":"branch_selector_button","data-testid":"branch-selector"}},[i("gl-search-box-by-type",{attrs:{debounce:e.$options.inputDebounce},on:{input:e.setSearchTerm}}),e._v(" "),i("gl-dropdown-section-header",[e._v("\n    "+e._s(e.$options.i18n.title)+"\n  ")]),e._v(" "),i("gl-infinite-scroll",{attrs:{"fetched-items":e.availableBranches.length,"max-list-height":250,"data-qa-selector":"branch_menu_container"},on:{bottomReached:e.fetchNextBranches},scopedSlots:e._u([{key:"items",fn:function(){return e._l(e.availableBranches,(function(t){return i("gl-dropdown-item",{key:t,attrs:{"is-checked":e.currentBranch===t,"is-check-item":!0,"data-qa-selector":"branch_menu_item_button"},on:{click:function(i){return e.selectBranch(t)}}},[e._v("\n        "+e._s(t)+"\n      ")])}))},proxy:!0},{key:"default",fn:function(){return[e.isBranchesLoading?i("gl-dropdown-item",{key:"loading"},[i("gl-loading-icon",{attrs:{size:"md"}})],1):e._e()]},proxy:!0}])})],1)}),[],!1,null,null,null).exports},props:{hasUnsavedChanges:{type:Boolean,required:!1,default:!1},shouldLoadNewBranch:{type:Boolean,required:!1,default:!1}}},G=Object(N.a)(M,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"gl-mb-4"},[t("branch-switcher",this._g({attrs:{"has-unsaved-changes":this.hasUnsavedChanges,"should-load-new-branch":this.shouldLoadNewBranch}},this.$listeners))],1)}),[],!1,null,null,null).exports,H={components:{GlButton:j.a,GlSprintf:E.a,PipelineEditorFileNav:G},i18n:{title:Object(C.a)("Optimize your workflow with CI/CD Pipelines"),body:Object(C.a)("Create a new %{codeStart}.gitlab-ci.yml%{codeEnd} file at the root of the repository to get started."),btnText:Object(C.a)("Configure pipeline")},inject:{emptyStateIllustrationPath:{default:""}},methods:{createEmptyConfigFile(){this.$emit("createEmptyConfigFile")}}},z=Object(N.a)(H,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("pipeline-editor-file-nav",e._g({},e.$listeners)),e._v(" "),i("div",{staticClass:"gl-display-flex gl-flex-direction-column gl-align-items-center gl-mt-11"},[i("img",{attrs:{src:e.emptyStateIllustrationPath}}),e._v(" "),i("h1",{staticClass:"gl-font-size-h1"},[e._v(e._s(e.$options.i18n.title))]),e._v(" "),i("p",{staticClass:"gl-mt-3"},[i("gl-sprintf",{attrs:{message:e.$options.i18n.body},scopedSlots:e._u([{key:"code",fn:function(t){var n=t.content;return[i("code",[e._v(e._s(n))])]}}])})],1),e._v(" "),i("gl-button",{staticClass:"gl-mt-3",attrs:{variant:"confirm","data-qa-selector":"create_new_ci_button"},on:{click:e.createEmptyConfigFile}},[e._v("\n      "+e._s(e.$options.i18n.btnText)+"\n    ")])],1)],1)}),[],!1,null,null,null).exports,U=i("Q04j"),J={name:"CodeSnippetAlert",components:{GlAlert:U.a},inject:["configurationPaths"],props:{source:{type:String,required:!0,validator:function(e){return o.a.includes(e)}}},computed:{settings(){return o.d[this.source]},configurationPath(){return this.configurationPaths[this.source]}}},Y=Object(N.a)(J,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-alert",e._g({attrs:{variant:"tip",title:e.__("Code snippet copied. Insert it in the correct location in the YAML file."),"dismiss-label":e.__("Dismiss"),"primary-button-link":e.settings.docsPath,"primary-button-text":e.__("Read documentation"),"secondary-button-link":e.configurationPath,"secondary-button-text":e.__("Go back to configuration")}},e.$listeners),[e._v("\n  "+e._s(e.__("Before inserting code, be sure to read the comment that separated each code group."))+"\n")])}),[],!1,null,null,null).exports,W={components:{GlAlert:U.a,CodeSnippetAlert:Y},errors:{[s.e]:Object(C.g)("Pipelines|The GitLab CI configuration could not be updated."),[s.j]:Object(C.a)("Something went wrong on our end."),[s.t]:Object(C.g)("Pipelines|The CI configuration was not loaded, please try again."),[s.v]:Object(C.g)("Pipelines|There was a problem with loading the pipeline data.")},success:{[s.g]:Object(C.a)("Your changes have been successfully committed."),[s.h]:Object(C.g)("Pipelines|Your changes have been successfully committed. Now redirecting to the new merge request page."),[s.k]:Object(C.a)("Your action succeeded.")},props:{failureType:{type:String,required:!1,default:null},failureReasons:{type:Array,required:!1,default:function(){return[]}},showFailure:{type:Boolean,required:!1,default:!1},showSuccess:{type:Boolean,required:!1,default:!1},successType:{type:String,required:!1,default:null}},data:()=>({codeSnippetCopiedFrom:""}),computed:{failure(){var e;const{errors:t}=this.$options;return{text:null!==(e=t[this.failureType])&&void 0!==e?e:t[s.j],variant:"danger"}},success(){var e;const{success:t}=this.$options;return{text:null!==(e=t[this.successType])&&void 0!==e?e:t[s.k],variant:"info"}}},created(){this.parseCodeSnippetSourceParam()},methods:{dismissCodeSnippetAlert(){this.codeSnippetCopiedFrom=""},dismissFailure(){this.$emit("hide-failure")},dismissSuccess(){this.$emit("hide-success")},parseCodeSnippetSourceParam(){const[e]=Object(S.n)(o.e);e&&o.a.includes(e)&&(this.codeSnippetCopiedFrom=e,window.history.replaceState({},document.title,Object(S.G)([o.e])))}}},Q=Object(N.a)(W,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.codeSnippetCopiedFrom?i("code-snippet-alert",{staticClass:"gl-mb-5",attrs:{source:e.codeSnippetCopiedFrom},on:{dismiss:e.dismissCodeSnippetAlert}}):e._e(),e._v(" "),e.showSuccess?i("gl-alert",{staticClass:"gl-mb-5",attrs:{variant:e.success.variant},on:{dismiss:e.dismissSuccess}},[e._v("\n    "+e._s(e.success.text)+"\n  ")]):e._e(),e._v(" "),e.showFailure?i("gl-alert",{staticClass:"gl-mb-5",attrs:{variant:e.failure.variant},on:{dismiss:e.dismissFailure}},[e._v("\n    "+e._s(e.failure.text)+"\n    "),e.failureReasons.length?i("ul",{staticClass:"gl-mb-0"},e._l(e.failureReasons,(function(t){return i("li",{key:t},[e._v(e._s(t))])})),0):e._e()]):e._e()],1)}),[],!1,null,null,null).exports,K=i("Da7+"),Z=i.n(K),X=i("3wGV"),ee=i.n(X),te=i("pC/D"),ie=i.n(te),ne=i("CJX0"),ae=i.n(ne),re=i("3nUT"),se=i.n(re),oe=i("1xFA"),le=i.n(oe),ce=i("bkta"),de=i.n(ce),ue=i("xjqj"),pe=i.n(ue),he=i("wHz9"),me=i("OkA1"),fe=i("tSMP"),ge=i("tXCq"),ve=i("oSqs"),be={components:{GlButton:j.a,GlForm:he.a,GlFormCheckbox:me.a,GlFormInput:fe.a,GlFormGroup:ge.a,GlFormTextarea:ve.a,GlSprintf:E.a},props:{currentBranch:{type:String,required:!1,default:""},defaultMessage:{type:String,required:!1,default:""},hasUnsavedChanges:{type:Boolean,required:!0},isNewCiConfigFile:{type:Boolean,required:!0},isSaving:{type:Boolean,required:!1,default:!1},scrollToCommitForm:{type:Boolean,required:!1,default:!1}},data(){return{message:this.defaultMessage,openMergeRequest:!1,targetBranch:this.currentBranch}},computed:{isCommitFormFilledOut(){return this.message&&this.targetBranch},isCurrentBranchTarget(){return this.targetBranch===this.currentBranch},isSubmitDisabled(){return!this.isCommitFormFilledOut||!this.hasUnsavedChanges&&!this.isNewCiConfigFile}},watch:{scrollToCommitForm(e){e&&this.scrollIntoView()}},methods:{onSubmit(){this.$emit("submit",{message:this.message,targetBranch:this.targetBranch,openMergeRequest:this.openMergeRequest})},onReset(){this.$emit("resetContent")},scrollIntoView(){this.$el.scrollIntoView({behavior:"smooth"}),this.$emit("scrolled-to-commit-form")}},i18n:{commitMessage:Object(C.a)("Commit message"),targetBranch:Object(C.a)("Target Branch"),startMergeRequest:Object(C.a)("Start a %{new_merge_request} with these changes"),newMergeRequest:Object(C.a)("new merge request"),commitChanges:Object(C.a)("Commit changes"),resetContent:Object(C.a)("Reset")}},ke=Object(N.a)(be,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("gl-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)},reset:function(t){return t.preventDefault(),e.onReset(t)}}},[i("gl-form-group",{attrs:{id:"commit-group",label:e.$options.i18n.commitMessage,"label-cols-sm":"2","label-for":"commit-message"}},[i("gl-form-textarea",{staticClass:"gl-font-monospace!",attrs:{id:"commit-message",required:"",placeholder:e.defaultMessage},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),e._v(" "),i("gl-form-group",{attrs:{id:"target-branch-group",label:e.$options.i18n.targetBranch,"label-cols-sm":"2","label-for":"target-branch-field"}},[i("gl-form-input",{staticClass:"gl-font-monospace!",attrs:{id:"target-branch-field",required:"","data-qa-selector":"target_branch_field"},model:{value:e.targetBranch,callback:function(t){e.targetBranch=t},expression:"targetBranch"}}),e._v(" "),e.isCurrentBranchTarget?e._e():i("gl-form-checkbox",{staticClass:"gl-mt-3",attrs:{"data-testid":"new-mr-checkbox","data-qa-selector":"new_mr_checkbox"},model:{value:e.openMergeRequest,callback:function(t){e.openMergeRequest=t},expression:"openMergeRequest"}},[i("gl-sprintf",{attrs:{message:e.$options.i18n.startMergeRequest},scopedSlots:e._u([{key:"new_merge_request",fn:function(){return[i("strong",[e._v(e._s(e.$options.i18n.newMergeRequest))])]},proxy:!0}],null,!1,3233790286)})],1)],1),e._v(" "),i("div",{staticClass:"gl-display-flex gl-justify-content-space-between gl-p-5 gl-bg-gray-10 gl-border-t-gray-100 gl-border-t-solid gl-border-t-1"},[i("gl-button",{staticClass:"js-no-auto-disable",attrs:{type:"submit",category:"primary",variant:"confirm","data-qa-selector":"commit_changes_button",disabled:e.isSubmitDisabled,loading:e.isSaving}},[e._v("\n        "+e._s(e.$options.i18n.commitChanges)+"\n      ")]),e._v(" "),i("gl-button",{staticClass:"gl-mr-3",attrs:{type:"reset",category:"secondary"}},[e._v("\n        "+e._s(e.$options.i18n.resetContent)+"\n      ")])],1)],1)],1)}),[],!1,null,null,null).exports,ye={alertTexts:{[s.e]:Object(C.g)("Pipelines|The GitLab CI configuration could not be updated."),[s.g]:Object(C.a)("Your changes have been successfully committed.")},i18n:{defaultCommitMessage:Object(C.a)("Update %{sourcePath} file")},components:{CommitForm:ke},inject:["projectFullPath","ciConfigPath"],props:{ciFileContent:{type:String,required:!0},commitSha:{type:String,required:!1,default:""},hasUnsavedChanges:{type:Boolean,required:!0},isNewCiConfigFile:{type:Boolean,required:!1,default:!1},scrollToCommitForm:{type:Boolean,required:!1,default:!1}},data:()=>({commit:{},isSaving:!1}),apollo:{currentBranch:{query:c.a,update:e=>e.workBranches.current.name}},computed:{action(){return this.isNewCiConfigFile?s.c:s.d},defaultCommitMessage(){return Object(C.h)(this.$options.i18n.defaultCommitMessage,{sourcePath:this.ciConfigPath})}},methods:{async onCommitSubmit(e){let{message:t,targetBranch:i,openMergeRequest:n}=e;this.isSaving=!0;try{const{data:{commitCreate:{errors:e,commitPipelinePath:a}}}=await this.$apollo.mutate({mutation:le.a,variables:{action:this.action,projectPath:this.projectFullPath,branch:i,startBranch:this.currentBranch,message:t,filePath:this.ciConfigPath,content:this.ciFileContent,lastCommitId:this.commitSha}});if(a&&this.updatePipelineEtag(a),null!=e&&e.length)this.$emit("showError",{type:s.e,reasons:e});else{const e=i,t=n?{type:s.h,params:{sourceBranch:e,targetBranch:this.currentBranch}}:{type:s.g};this.$emit("commit",{...t}),this.updateLastCommitBranch(i),this.updateCurrentBranch(i),this.currentBranch===i&&this.$emit("updateCommitSha")}}catch(e){this.$emit("showError",{type:s.e,reasons:[null==e?void 0:e.message]})}finally{this.isSaving=!1}},updateCurrentBranch(e){this.$apollo.mutate({mutation:q.a,variables:{currentBranch:e}})},updateLastCommitBranch(e){this.$apollo.mutate({mutation:de.a,variables:{lastCommitBranch:e}})},updatePipelineEtag(e){this.$apollo.mutate({mutation:pe.a,variables:{pipelineEtag:e}})}}},Se=Object(N.a)(ye,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("commit-form",e._g({attrs:{"current-branch":e.currentBranch,"default-message":e.defaultCommitMessage,"has-unsaved-changes":e.hasUnsavedChanges,"is-new-ci-config-file":e.isNewCiConfigFile,"is-saving":e.isSaving,"scroll-to-commit-form":e.scrollToCommitForm},on:{submit:e.onCommitSubmit}},e.$listeners))}),[],!1,null,null,null).exports,Ce=i("J833"),we=i("u1ru"),_e={i18n:{title:Object(C.g)("PipelineEditorTutorial|🚀 Run your first pipeline"),firstParagraph:Object(C.g)("PipelineEditorTutorial|This template creates a simple test pipeline. To use it:"),listItems:[Object(C.g)("PipelineEditorTutorial|Commit the file to your repository. The pipeline then runs automatically."),Object(C.g)("PipelineEditorTutorial|The pipeline status is at the top of the page."),Object(C.g)("PipelineEditorTutorial|Select the pipeline ID to view the full details about your first pipeline run.")],note:Object(C.g)("PipelineEditorTutorial|If you’re using a self-managed GitLab instance, %{linkStart}make sure your instance has runners available.%{linkEnd}")},components:{GlLink:we.a,GlSprintf:E.a},inject:["runnerHelpPagePath"]},Ne=Object(N.a)(_e,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h3",{staticClass:"gl-font-lg gl-mt-0 gl-mb-5"},[e._v(e._s(e.$options.i18n.title))]),e._v(" "),i("p",{staticClass:"gl-mb-3"},[e._v(e._s(e.$options.i18n.firstParagraph))]),e._v(" "),i("ol",{staticClass:"gl-mb-3"},e._l(e.$options.i18n.listItems,(function(t,n){return i("li",{key:"li-"+n},[e._v(e._s(t))])})),0),e._v(" "),i("p",{staticClass:"gl-mb-0"},[i("gl-sprintf",{attrs:{message:e.$options.i18n.note},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.runnerHelpPagePath,target:"_blank"}},[e._v("\n          "+e._s(n)+"\n        ")])]}}])})],1)])}),[],!1,null,null,null).exports,Pe={i18n:{title:Object(C.g)("PipelineEditorTutorial|Get started with GitLab CI/CD"),firstParagraph:Object(C.g)("PipelineEditorTutorial|GitLab CI/CD can automatically build, test, and deploy your application."),secondParagraph:Object(C.g)("PipelineEditorTutorial|The pipeline stages and jobs are defined in a %{codeStart}.gitlab-ci.yml%{codeEnd} file. You can edit, visualize and validate the syntax in this file by using the Pipeline Editor.")},components:{GlSprintf:E.a}},je=Object(N.a)(Pe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h3",{staticClass:"gl-font-lg gl-mt-0 gl-mb-5"},[e._v(e._s(e.$options.i18n.title))]),e._v(" "),i("p",{staticClass:"gl-mb-3"},[e._v(e._s(e.$options.i18n.firstParagraph))]),e._v(" "),i("p",{staticClass:"gl-mb-0"},[i("gl-sprintf",{attrs:{message:e.$options.i18n.secondParagraph},scopedSlots:e._u([{key:"code",fn:function(t){var n=t.content;return[i("code",[e._v(e._s(n))])]}}])})],1)])}),[],!1,null,null,null).exports,Ee={i18n:{title:Object(C.g)("PipelineEditorTutorial|⚙️ Pipeline configuration reference"),firstParagraph:Object(C.g)("PipelineEditorTutorial|Resources to help with your CI/CD configuration:"),browseExamples:Object(C.g)("PipelineEditorTutorial|Browse %{linkStart}CI/CD examples and templates%{linkEnd}"),viewSyntaxRef:Object(C.g)("PipelineEditorTutorial|View %{linkStart}.gitlab-ci.yml syntax reference%{linkEnd}"),learnMore:Object(C.g)("PipelineEditorTutorial|Learn more about %{linkStart}GitLab CI/CD concepts%{linkEnd}"),needs:Object(C.g)("PipelineEditorTutorial|Make your pipeline more efficient with the %{linkStart}Needs keyword%{linkEnd}")},components:{GlLink:we.a,GlSprintf:E.a},inject:["ciExamplesHelpPagePath","ciHelpPagePath","needsHelpPagePath","ymlHelpPagePath"]},Oe=Object(N.a)(Ee,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h3",{staticClass:"gl-font-lg gl-mt-0 gl-mb-5"},[e._v(e._s(e.$options.i18n.title))]),e._v(" "),i("p",{staticClass:"gl-mb-3"},[e._v(e._s(e.$options.i18n.firstParagraph))]),e._v(" "),i("ul",[i("li",[i("gl-sprintf",{attrs:{message:e.$options.i18n.browseExamples},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.ciExamplesHelpPagePath,target:"_blank"}},[e._v("\n            "+e._s(n)+"\n          ")])]}}])})],1),e._v(" "),i("li",[i("gl-sprintf",{attrs:{message:e.$options.i18n.viewSyntaxRef},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.ymlHelpPagePath,target:"_blank"}},[e._v("\n            "+e._s(n)+"\n          ")])]}}])})],1),e._v(" "),i("li",[i("gl-sprintf",{attrs:{message:e.$options.i18n.learnMore},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.ciHelpPagePath,target:"_blank"}},[e._v("\n            "+e._s(n)+"\n          ")])]}}])})],1),e._v(" "),i("li",[i("gl-sprintf",{attrs:{message:e.$options.i18n.needs},scopedSlots:e._u([{key:"link",fn:function(t){var n=t.content;return[i("gl-link",{attrs:{href:e.needsHelpPagePath,target:"_blank"}},[e._v("\n            "+e._s(n)+"\n          ")])]}}])})],1)])])}),[],!1,null,null,null).exports,$e={i18n:{title:Object(C.g)("PipelineEditorTutorial|💡 Tip: Visualize and validate your pipeline"),firstParagraph:Object(C.g)("PipelineEditorTutorial|Use the Visualize and Lint tabs in the Pipeline Editor to visualize your pipeline and check for any errors or warnings before committing your changes.")}},Te=Object(N.a)($e,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h3",{staticClass:"gl-font-lg gl-mt-0 gl-mb-5"},[this._v(this._s(this.$options.i18n.title))]),this._v(" "),t("p",{staticClass:"gl-mb-0"},[this._v(this._s(this.$options.i18n.firstParagraph))])])}),[],!1,null,null,null).exports;var De={DRAWER_CARD_STYLES:["gl-border-bottom-0","gl-pt-6!","gl-pb-0!","gl-line-height-20"],i18n:{title:Object(C.a)("Help")},components:{FirstPipelineCard:Ne,GettingStartedCard:je,GlDrawer:Ce.a,PipelineConfigReferenceCard:Oe,VisualizeAndLintCard:Te},props:{isVisible:{type:Boolean,required:!1,default:!1}},computed:{drawerCardStyles:()=>"",drawerHeightOffset(){const e=document.querySelector(".content-wrapper");return e?`${e.offsetTop}px`:""}},methods:{closeDrawer(){this.$emit("close-drawer")}}},Be=Object(N.a)(De,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-drawer",{attrs:{"header-height":e.drawerHeightOffset,open:e.isVisible,"z-index":200},on:{close:e.closeDrawer},scopedSlots:e._u([{key:"title",fn:function(){return[i("h2",{staticClass:"gl-m-0 gl-font-lg"},[e._v(e._s(e.$options.i18n.title))])]},proxy:!0}])},[e._v(" "),i("getting-started-card",{class:e.$options.DRAWER_CARD_STYLES}),e._v(" "),i("first-pipeline-card",{class:e.$options.DRAWER_CARD_STYLES}),e._v(" "),i("visualize-and-lint-card",{class:e.$options.DRAWER_CARD_STYLES}),e._v(" "),i("pipeline-config-reference-card",{class:e.$options.DRAWER_CARD_STYLES})],1)}),[],!1,null,null,null).exports,Fe=i("H8gz"),xe=i("+lve"),Le=i("vRHk"),Ie=i("zp2m"),qe=i.n(Ie),Re=i("pU7c"),Ve=i("Ng9o"),Ae=i("crpJ"),Me=i("ZZCq"),Ge=i.n(Me),He={i18n:{linkedPipelinesFetchError:Object(C.a)("Unable to fetch upstream and downstream pipelines.")},components:{PipelineMiniGraph:Ae.a,LinkedPipelinesMiniList:function(){return i.e(136).then(i.bind(null,"TnxK"))}},inject:["projectFullPath"],props:{pipeline:{type:Object,required:!0}},apollo:{linkedPipelines:{query:Ge.a,variables(){return{fullPath:this.projectFullPath,iid:this.pipeline.iid}},skip(){return!this.pipeline.iid},update(e){let{project:t}=e;return null==t?void 0:t.pipeline},error(){this.$emit("showError",{type:s.v,reasons:[this.$options.i18n.linkedPipelinesFetchError]})}}},computed:{downstreamPipelines(){var e,t;return(null===(e=this.linkedPipelines)||void 0===e?void 0:null===(t=e.downstream)||void 0===t?void 0:t.nodes)||[]},pipelinePath(){var e;return(null===(e=this.pipeline.detailedStatus)||void 0===e?void 0:e.detailsPath)||""},pipelineStages(){var e,t=this;const i=null===(e=this.pipeline.stages)||void 0===e?void 0:e.edges;return i?i.map((function(e){let{node:i}=e;const{name:n,detailedStatus:a}=i;return{dropdown_path:`${t.pipelinePath}/stage.json?stage=${n}`,name:n,path:`${t.pipelinePath}#${n}`,status:{details_path:`${t.pipelinePath}#${n}`,has_details:a.hasDetails,...a},title:`${n}: ${a.text}`}})):[]},showDownstreamPipelines(){return this.downstreamPipelines.length>0},upstreamPipeline(){var e;return null===(e=this.linkedPipelines)||void 0===e?void 0:e.upstream}}},ze=Object(N.a)(He,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.pipelineStages.length>0?i("div",{staticClass:"stage-cell gl-mr-5"},[e.upstreamPipeline?i("linked-pipelines-mini-list",{attrs:{"triggered-by":[e.upstreamPipeline],"data-testid":"pipeline-editor-mini-graph-upstream"}}):e._e(),e._v(" "),i("pipeline-mini-graph",{staticClass:"gl-display-inline",attrs:{stages:e.pipelineStages}}),e._v(" "),e.showDownstreamPipelines?i("linked-pipelines-mini-list",{attrs:{triggered:e.downstreamPipelines,"pipeline-path":e.pipelinePath,"data-testid":"pipeline-editor-mini-graph-downstream"}}):e._e()],1):e._e()}),[],!1,null,null,null).exports;var Ue={i18n:{fetchError:Object(C.g)("Pipeline|We are currently unable to fetch pipeline data"),fetchLoading:Object(C.g)("Pipeline|Checking pipeline status"),pipelineInfo:Object(C.g)("Pipeline|Pipeline %{idStart}#%{idEnd} %{statusStart}%{statusEnd} for %{commitStart}%{commitEnd}"),viewBtn:Object(C.g)("Pipeline|View pipeline"),viewCommit:Object(C.g)("Pipeline|View commit")},components:{CiIcon:Ve.a,GlButton:j.a,GlIcon:Fe.a,GlLink:we.a,GlLoadingIcon:k.a,GlSprintf:E.a,PipelineEditorMiniGraph:ze},directives:{GlTooltip:F.a},inject:["projectFullPath"],props:{commitSha:{type:String,required:!1,default:""}},apollo:{pipelineEtag:{query:f.a,update(e){var t;return null===(t=e.etags)||void 0===t?void 0:t.pipeline}},pipeline:{context(){return Object(Re.b)(this.pipelineEtag)},query:qe.a,variables(){return{fullPath:this.projectFullPath,sha:this.commitSha}},update(e){var t;const{id:i,iid:n,commit:a={},detailedStatus:r={},stages:s,status:o}=(null===(t=e.project)||void 0===t?void 0:t.pipeline)||{};return{id:i,iid:n,commit:a,detailedStatus:r,stages:s,status:o}},result(e){var t,i;null!==(t=e.data)&&void 0!==t&&null!==(i=t.project)&&void 0!==i&&i.pipeline&&(this.hasError=!1)},error(){this.hasError=!0},pollInterval:1e4}},data:()=>({hasError:!1}),computed:{commitText(){const e=Object(Le.w)(this.commitSha),t=this.pipeline.commit.title||"";return t.length>0?`${e}: ${t}`:e},hasPipelineData(){var e;return Boolean(null===(e=this.pipeline)||void 0===e?void 0:e.id)},pipelineId(){return Object(xe.e)(this.pipeline.id)},showLoadingState(){return this.$apollo.queries.pipeline.loading||0===this.commitSha.length||!this.hasPipelineData&&!this.hasError},shortSha(){return Object(Le.w)(this.commitSha)},status(){return this.pipeline.detailedStatus}},mounted(){Object(Re.d)(this.$apollo.queries.pipeline,1e4)}},Je=Object(N.a)(Ue,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-display-flex gl-justify-content-space-between gl-align-items-center gl-flex-wrap"},[e.showLoadingState?[i("div",[i("gl-loading-icon",{staticClass:"gl-mr-auto gl-display-inline-block",attrs:{size:"sm"}}),e._v(" "),i("span",{attrs:{"data-testid":"pipeline-loading-msg"}},[e._v(e._s(e.$options.i18n.fetchLoading))])],1)]:e.hasError?[i("gl-icon",{staticClass:"gl-mr-auto",attrs:{name:"warning-solid"}}),e._v(" "),i("span",{attrs:{"data-testid":"pipeline-error-msg"}},[e._v(e._s(e.$options.i18n.fetchError))])]:[i("div",{staticClass:"gl-text-truncate gl-md-max-w-50p gl-mr-1"},[i("a",{staticClass:"gl-mr-auto",attrs:{href:e.status.detailsPath}},[i("ci-icon",{attrs:{status:e.status,size:16,"data-testid":"pipeline-status-icon"}})],1),e._v(" "),i("span",{staticClass:"gl-font-weight-bold"},[i("gl-sprintf",{attrs:{message:e.$options.i18n.pipelineInfo},scopedSlots:e._u([{key:"id",fn:function(t){var n=t.content;return[i("span",{attrs:{"data-testid":"pipeline-id","data-qa-selector":"pipeline_id_content"}},[e._v("\n              "+e._s(n)+e._s(e.pipelineId)+"\n            ")])]}},{key:"status",fn:function(){return[e._v(e._s(e.status.text))]},proxy:!0},{key:"commit",fn:function(){return[i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:e.pipeline.commit.webPath,title:e.$options.i18n.viewCommit,"data-testid":"pipeline-commit"}},[e._v("\n              "+e._s(e.commitText)+"\n            ")])]},proxy:!0}])})],1)]),e._v(" "),i("div",{staticClass:"gl-display-flex gl-flex-wrap"},[i("pipeline-editor-mini-graph",e._g({attrs:{pipeline:e.pipeline}},e.$listeners)),e._v(" "),i("gl-button",{staticClass:"gl-mt-2 gl-md-mt-0",attrs:{category:"secondary",variant:"confirm",href:e.status.detailsPath,"data-testid":"pipeline-view-btn"}},[e._v("\n        "+e._s(e.$options.i18n.viewBtn)+"\n      ")])],1)]],2)}),[],!1,null,null,null).exports,Ye=i("aFFW");var We={i18n:{empty:Object(C.a)("We'll continuously validate your pipeline configuration. The validation results will appear here."),learnMore:Object(C.a)("Learn more"),loading:Object(C.g)("Pipelines|Validating GitLab CI configuration…"),invalid:Object(C.g)("Pipelines|This GitLab CI configuration is invalid."),invalidWithReason:Object(C.g)("Pipelines|This GitLab CI configuration is invalid: %{reason}."),unavailableValidation:Object(C.g)("Pipelines|Configuration validation currently not available."),valid:Object(C.g)("Pipelines|This GitLab CI configuration is valid.")},components:{GlIcon:Fe.a,GlLink:we.a,GlLoadingIcon:k.a,TooltipOnTruncate:Ye.a},inject:{lintUnavailableHelpPagePath:{default:""},ymlHelpPagePath:{default:""}},props:{ciConfig:{type:Object,required:!1,default:function(){return{}}}},apollo:{appStatus:{query:u.a,update:e=>e.app.status}},computed:{helpPath(){return this.isLintUnavailable?this.lintUnavailableHelpPagePath:this.ymlHelpPagePath},isEmpty(){return this.appStatus===s.l},isLintUnavailable(){return this.appStatus===s.n},isLoading(){return this.appStatus===s.o},isValid(){return this.appStatus===s.p},icon(){switch(this.appStatus){case s.l:return"check";case s.n:return"time-out";case s.p:return"check";default:return"warning-solid"}},message(){var e,t,i;const[n]=(null===(e=this.ciConfig)||void 0===e?void 0:e.errors)||[];switch(this.appStatus){case s.l:return this.$options.i18n.empty;case s.n:return this.$options.i18n.unavailableValidation;case s.p:return this.$options.i18n.valid;default:return(null===(t=this.ciConfig)||void 0===t?void 0:null===(i=t.errors)||void 0===i?void 0:i.length)>0?Object(C.h)(this.$options.i18n.invalidWithReason,{reason:n},!1):this.$options.i18n.invalid}}}},Qe=Object(N.a)(We,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isLoading?[i("gl-loading-icon",{attrs:{size:"sm",inline:""}}),e._v("\n    "+e._s(e.$options.i18n.loading)+"\n  ")]:i("span",{staticClass:"gl-display-inline-flex gl-white-space-nowrap gl-max-w-full"},[i("tooltip-on-truncate",{staticClass:"gl-text-truncate",attrs:{title:e.message}},[i("gl-icon",{attrs:{name:e.icon}}),e._v(" "),i("span",{attrs:{"data-qa-selector":"validation_message_content","data-testid":"validationMsg"}},[e._v("\n        "+e._s(e.message)+"\n      ")])],1),e._v(" "),e.isEmpty?e._e():i("span",{staticClass:"gl-flex-shrink-0 gl-pl-2"},[i("gl-link",{attrs:{"data-testid":"learnMoreLink",href:e.helpPath}},[e._v("\n        "+e._s(e.$options.i18n.learnMore)+"\n      ")])],1)],1)],2)}),[],!1,null,null,null).exports;const Ke=["gl-p-5","gl-bg-gray-10","gl-border-solid","gl-border-gray-100"];var Ze={pipelineStatusClasses:[...Ke,"gl-border-1","gl-border-b-0!","gl-rounded-top-base"],validationSegmentClasses:[...Ke,"gl-border-1","gl-rounded-base"],validationSegmentWithPipelineStatusClasses:[...Ke,"gl-border-1","gl-rounded-bottom-left-base","gl-rounded-bottom-right-base"],components:{PipelineStatus:Je,ValidationSegment:Qe},props:{ciConfigData:{type:Object,required:!0},commitSha:{type:String,required:!1,default:""},isNewCiConfigFile:{type:Boolean,required:!0}},computed:{showPipelineStatus(){return!this.isNewCiConfigFile},validationStyling(){return this.showPipelineStatus?this.$options.validationSegmentWithPipelineStatusClasses:this.$options.validationSegmentClasses}}},Xe=Object(N.a)(Ze,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-mb-5"},[e.showPipelineStatus?i("pipeline-status",e._g({class:e.$options.pipelineStatusClasses,attrs:{"commit-sha":e.commitSha}},e.$listeners)):e._e(),e._v(" "),i("validation-segment",{class:e.validationStyling,attrs:{"ci-config":e.ciConfigData}})],1)}),[],!1,null,null,null).exports,et=i("3saJ"),tt=i("4igz"),it=i("Yw7B"),nt={components:{tooltipOnTruncate:Ye.a},props:{jobName:{type:String,required:!0},pipelineId:{type:Number,required:!0},isHovered:{type:Boolean,required:!1,default:!1},isFadedOut:{type:Boolean,required:!1,default:!1},handleMouseOver:{type:Function,required:!1,default:function(){}},handleMouseLeave:{type:Function,required:!1,default:function(){}}},computed:{id(){return`${this.jobName}-${this.pipelineId}`},jobPillClasses(){return[{"gl-opacity-3":this.isFadedOut},{"gl-bg-gray-50 gl-inset-border-1-gray-200":this.isHovered}]}},methods:{onMouseEnter(){this.$emit("on-mouse-enter",this.jobName)},onMouseLeave(){this.$emit("on-mouse-leave")}}},at=Object(N.a)(nt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-w-full"},[i("tooltip-on-truncate",{attrs:{title:e.jobName,"truncate-target":"child",placement:"top"}},[i("div",{staticClass:"gl-bg-white gl-inset-border-1-gray-100 gl-text-center gl-text-truncate gl-rounded-6 gl-mb-3 gl-px-5 gl-py-3 gl-relative gl-z-index-1 gl-transition-duration-slow gl-transition-timing-function-ease",class:e.jobPillClasses,attrs:{id:e.id},on:{mouseover:e.onMouseEnter,mouseleave:e.onMouseLeave}},[e._v("\n      "+e._s(e.jobName)+"\n    ")])])],1)}),[],!1,null,null,null).exports,rt=i("A1CF"),st=i.n(rt),ot=i("G7sT"),lt=i.n(ot),ct={components:{tooltipOnTruncate:Ye.a},props:{stageName:{type:String,required:!0}},computed:{formattedTitle(){return lt()(st()(this.stageName))}}},dt=Object(N.a)(ct,(function(){var e=this.$createElement,t=this._self._c||e;return t("tooltip-on-truncate",{attrs:{title:this.stageName,"truncate-target":"child",placement:"top"}},[t("div",{staticClass:"gl-py-2 gl-text-truncate gl-font-weight-bold gl-w-20"},[this._v("\n    "+this._s(this.formattedTitle)+"\n  ")])])}),[],!1,null,null,null).exports,ut={components:{GlAlert:U.a,JobPill:at,LinksLayer:it.a,StageName:dt},CONTAINER_REF:"PIPELINE_GRAPH_CONTAINER_REF",BASE_CONTAINER_ID:"pipeline-graph-container",PIPELINE_ID:0,STROKE_WIDTH:2,errorTexts:{[tt.h]:Object(C.a)("Could not draw the lines for job relationships"),[tt.f]:Object(C.a)("An unknown error occurred.")},jobWrapperClasses:"gl-display-flex gl-flex-direction-column gl-align-items-stretch gl-w-full gl-px-8 gl-min-w-full gl-max-w-15",props:{pipelineData:{required:!0,type:Object}},data:()=>({failureType:null,highlightedJob:null,highlightedJobs:[],measurements:{height:0,width:0}}),computed:{containerId(){return`${this.$options.BASE_CONTAINER_ID}-${this.$options.PIPELINE_ID}`},failure(){switch(this.failureType){case tt.h:return{text:this.$options.errorTexts[tt.h],variant:"danger",dismissible:!0};default:return{text:this.$options.errorTexts[tt.f],variant:"danger",dismissible:!0}}},hasError(){return this.failureType},hasHighlightedJob(){return Boolean(this.highlightedJob)},pipelineStages(){var e;return(null===(e=this.pipelineData)||void 0===e?void 0:e.stages)||[]}},watch:{pipelineData:{immediate:!0,handler(){var e=this;this.$nextTick((function(){e.computeGraphDimensions()}))}}},methods:{computeGraphDimensions(){this.measurements={width:this.$refs[this.$options.CONTAINER_REF].scrollWidth,height:this.$refs[this.$options.CONTAINER_REF].scrollHeight}},isFadedOut(e){return this.highlightedJobs.length>1&&!this.isJobHighlighted(e)},isJobHighlighted(e){return this.highlightedJobs.includes(e)},onError(e){this.reportFailure(e.type)},removeHoveredJob(){this.highlightedJob=null},reportFailure(e){this.failureType=e},resetFailure(){this.failureType=null},setHoveredJob(e){this.highlightedJob=e},updateHighlightedJobs(e){this.highlightedJobs=e}}},pt=Object(N.a)(ut,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.hasError?i("gl-alert",{attrs:{variant:e.failure.variant,dismissible:e.failure.dismissible},on:{dismiss:e.resetFailure}},[e._v("\n    "+e._s(e.failure.text)+"\n  ")]):e._e(),e._v(" "),i("div",{ref:e.$options.CONTAINER_REF,staticClass:"gl-bg-gray-10 gl-overflow-auto",attrs:{id:e.containerId,"data-testid":"graph-container","data-qa-selector":"pipeline_graph_container"}},[i("links-layer",{attrs:{"pipeline-data":e.pipelineStages,"pipeline-id":e.$options.PIPELINE_ID,"container-id":e.containerId,"container-measurements":e.measurements,"highlighted-job":e.highlightedJob},on:{highlightedJobsChange:e.updateHighlightedJobs,error:e.onError}},e._l(e.pipelineStages,(function(t,n){return i("div",{key:t.name+"-"+n,staticClass:"gl-flex-direction-column"},[i("div",{staticClass:"gl-display-flex gl-align-items-center gl-w-full gl-px-9 gl-py-4 gl-mb-5",attrs:{"data-qa-selector":"stage_container"}},[i("stage-name",{attrs:{"stage-name":t.name}})],1),e._v(" "),i("div",{class:e.$options.jobWrapperClasses},e._l(t.groups,(function(t){return i("job-pill",{key:t.name,attrs:{"job-name":t.name,"pipeline-id":e.$options.PIPELINE_ID,"is-hovered":e.highlightedJob===t.name,"is-faded-out":e.isFadedOut(t.name),"data-qa-selector":"job_container"},on:{"on-mouse-enter":e.setHoveredJob,"on-mouse-leave":e.removeHoveredJob}})})),1)])})),0)],1)],1)}),[],!1,null,null,null).exports,ht=i("Zxcm"),mt=i("RlQ7"),ft=i.n(mt),gt=i("9u8k"),vt={i18n:{viewOnlyMessage:Object(C.g)("Pipelines|Merged YAML is view only")},components:{SourceEditor:gt.a,GlIcon:Fe.a},inject:["ciConfigPath"],props:{ciConfigData:{type:Object,required:!0}},data:()=>({failureType:null}),computed:{fileGlobalId(){return`${this.ciConfigPath}-${ft()()}`},mergedYaml(){return this.ciConfigData.mergedYaml}}},bt=Object(N.a)(vt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"gl-display-flex gl-align-items-center"},[i("gl-icon",{staticClass:"gl-text-gray-500 gl-mr-3",attrs:{size:16,name:"lock"}}),e._v("\n    "+e._s(e.$options.i18n.viewOnlyMessage)+"\n  ")],1),e._v(" "),i("div",{staticClass:"gl-mt-3 gl-border-solid gl-border-gray-100 gl-border-1"},[i("source-editor",e._g({ref:"editor",attrs:{value:e.mergedYaml,"file-name":e.ciConfigPath,"file-global-id":e.fileGlobalId,"editor-options":{readOnly:!0}}},e.$listeners))],1)])}),[],!1,null,null,null).exports,kt=i("mWeI"),yt={i18n:{browseTemplates:Object(C.a)("Browse templates"),help:Object(C.a)("Help")},TEMPLATE_REPOSITORY_URL:s.E,components:{GlButton:j.a},mixins:[kt.a.mixin()],props:{showDrawer:{type:Boolean,required:!0}},methods:{toggleDrawer(){this.$emit(this.showDrawer?"close-drawer":"open-drawer")},trackTemplateBrowsing(){const{label:e,actions:t}=s.G;this.track(t.browse_templates,{label:e})}}},St=Object(N.a)(yt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-bg-gray-10 gl-p-3 gl-border-solid gl-border-gray-100 gl-border-1"},[i("gl-button",{attrs:{href:e.$options.TEMPLATE_REPOSITORY_URL,size:"small",icon:"external-link",target:"_blank","data-testid":"template-repo-link","data-qa-selector":"template_repo_link"},on:{click:e.trackTemplateBrowsing}},[e._v("\n    "+e._s(e.$options.i18n.browseTemplates)+"\n  ")]),e._v(" "),i("gl-button",{attrs:{icon:"information-o",size:"small","data-testid":"drawer-toggle","data-qa-selector":"drawer_toggle"},on:{click:e.toggleDrawer}},[e._v("\n    "+e._s(e.$options.i18n.help)+"\n  ")])],1)}),[],!1,null,null,null).exports,Ct=i("6kPI"),wt=(i("XmK6"),i.p+"ci.47a071be.json"),_t=i("ZyD4");class Nt{static get extensionName(){return"CiSchema"}provides(){return{registerCiSchema:function(e){const t=new URL(wt,gon.gitlab_url).href,i=e.getModel().uri.path.split("/").pop();Object(_t.k)({uri:t,fileMatch:[i]})}}}}var Pt={editorOptions:{quickSuggestions:!0},debounceValue:s.A,components:{SourceEditor:gt.a},mixins:[Object(ht.a)()],inject:["ciConfigPath"],inheritAttrs:!1,methods:{onCiConfigUpdate(e){this.$emit("updateCiConfig",e)},registerCiSchema(e){let{detail:{instance:t}}=e;this.glFeatures.schemaLinting&&(t.use({definition:Nt}),t.registerCiSchema())}},readyEvent:Ct.k},jt=Object(N.a)(Pt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-border-solid gl-border-gray-100 gl-border-1 gl-border-t-none!"},[i("source-editor",e._g(e._b({ref:"editor",attrs:{"debounce-value":e.$options.debounceValue,"editor-options":e.$options.editorOptions,"file-name":e.ciConfigPath},on:e._d({input:e.onCiConfigUpdate},[e.$options.readyEvent,function(t){return e.registerCiSchema(t)}])},"source-editor",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null).exports,Et=i("yBQT"),Ot=i.n(Et),$t={components:{CiLintResults:i("/1ve").a},inject:{lintHelpPagePath:{default:""}},props:{isValid:{type:Boolean,required:!0},ciConfig:{type:Object,required:!0}},computed:{stages(){var e;return(null===(e=this.ciConfig)||void 0===e?void 0:e.stages)||[]},jobs(){const e=this.stages.reduce((function(e,t){let{groups:i,name:n}=t;return e.concat(i.map((function(e){let{jobs:t}=e;return t.map((function(e){return{stage:n,...e}}))})))}),[]);return Ot()(e)}}},Tt=Object(N.a)($t,(function(){var e=this.$createElement;return(this._self._c||e)("ci-lint-results",{attrs:{errors:this.ciConfig.errors,"is-valid":this.isValid,jobs:this.jobs,"lint-help-page-path":this.lintHelpPagePath}})}),[],!1,null,null,null).exports,Dt=i("uSzn"),Bt={i18n:{invalid:Object(C.a)("Your CI/CD configuration syntax is invalid. View Lint tab for more details."),unavailable:Object(C.a)("We're experiencing difficulties and this tab content is currently unavailable.")},components:{GlAlert:U.a,GlTab:Dt.a,MountSpy:{render:function(){return null}}},inheritAttrs:!1,props:{emptyMessage:{type:String,required:!1,default:Object(C.g)("PipelineEditor|This tab will be usable when the CI/CD configuration file is populated with valid syntax.")},isEmpty:{type:Boolean,required:!1,default:!1},isInvalid:{type:Boolean,required:!1,default:!1},isUnavailable:{type:Boolean,required:!1,default:!1},keepComponentMounted:{type:Boolean,required:!1,default:!0},lazy:{type:Boolean,required:!1,default:!1}},data(){return{isLazy:this.lazy}},computed:{slots(){return Object.keys(this.$slots)}},methods:{onContentMounted(){this.keepComponentMounted&&(this.isLazy=!1)}}},Ft=Object(N.a)(Bt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-tab",e._g(e._b({attrs:{lazy:e.isLazy}},"gl-tab",e.$attrs,!1),e.$listeners),[e.isEmpty?i("gl-alert",{attrs:{variant:"tip"}},[e._v(e._s(e.emptyMessage))]):e.isUnavailable?i("gl-alert",{attrs:{variant:"danger",dismissible:!1}},[e._v("\n    "+e._s(e.$options.i18n.unavailable))]):e.isInvalid?i("gl-alert",{attrs:{variant:"danger"}},[e._v(e._s(e.$options.i18n.invalid))]):[e._l(e.slots,(function(t){return e._t(t)})),e._v(" "),i("mount-spy",{on:{"hook:mounted":e.onContentMounted}})]],2)}),[],!1,null,null,null).exports,xt=i("hAnt"),Lt=i("KFH7"),It={directives:{Outside:xt.a},i18n:{title:Object(C.g)("pipelineEditorWalkthrough|See how GitLab pipelines work"),description:Object(C.g)("pipelineEditorWalkthrough|This %{codeStart}.gitlab-ci.yml%{codeEnd} file creates a simple test pipeline."),instruction:Object(C.g)("pipelineEditorWalkthrough|Use the %{boldStart}commit changes%{boldEnd} button at the bottom of the page to run the pipeline."),ctaText:Object(C.g)("pipelineEditorWalkthrough|Let's do this!")},components:{GlButton:j.a,GlPopover:Lt.a,GlSprintf:E.a},data:()=>({show:!0}),computed:{targetElement:()=>document.querySelector(".js-walkthrough-popover-target")},methods:{close(){this.show=!1},handleClickCta(){this.close(),this.$emit("walkthrough-popover-cta-clicked")}}},qt=Object(N.a)(It,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-popover",{attrs:{show:e.show,title:e.$options.i18n.title,target:e.targetElement,placement:"right",triggers:"focus"},on:{"update:show":function(t){e.show=t}}},[i("div",{directives:[{name:"outside",rawName:"v-outside",value:e.close,expression:"close"}],staticClass:"gl-display-flex gl-flex-direction-column"},[i("p",[i("gl-sprintf",{attrs:{message:e.$options.i18n.description},scopedSlots:e._u([{key:"code",fn:function(t){var n=t.content;return[i("code",[e._v(e._s(n))])]}}])})],1),e._v(" "),i("p",[i("gl-sprintf",{attrs:{message:e.$options.i18n.instruction},scopedSlots:e._u([{key:"bold",fn:function(t){var n=t.content;return[i("strong",[e._v("\n            "+e._s(n)+"\n          ")])]}}])})],1),e._v(" "),i("gl-button",{staticClass:"gl-align-self-end",attrs:{category:"tertiary","data-testid":"ctaBtn",variant:"confirm"},on:{click:e.handleClickCta}},[i("gl-emoji",{attrs:{"data-name":"rocket"}}),e._v("\n      "+e._s(this.$options.i18n.ctaText)+"\n    ")],1)],1)])}),[],!1,null,null,null).exports,Rt={i18n:{tabEdit:Object(C.g)("Pipelines|Edit"),tabGraph:Object(C.g)("Pipelines|Visualize"),tabLint:Object(C.g)("Pipelines|Lint"),tabMergedYaml:Object(C.g)("Pipelines|View merged YAML"),empty:{visualization:Object(C.g)("PipelineEditor|The pipeline visualization is displayed when the CI/CD configuration file has valid syntax."),lint:Object(C.g)("PipelineEditor|The CI/CD configuration is continuously validated. Errors and warnings are displayed when the CI/CD configuration file is not empty."),merge:Object(C.g)("PipelineEditor|The merged YAML view is displayed when the CI/CD configuration file has valid syntax.")}},errorTexts:{loadMergedYaml:Object(C.g)("Pipelines|Could not load merged YAML content")},query:{TAB_QUERY_PARAM:s.D},tabConstants:{CREATE_TAB:s.i,LINT_TAB:s.s,MERGED_TAB:s.u,VISUALIZE_TAB:s.F},components:{CiConfigMergedPreview:bt,CiEditorHeader:St,CiLint:Tt,EditorTab:Ft,GlAlert:U.a,GlLoadingIcon:k.a,GlTabs:et.a,PipelineGraph:pt,TextEditor:jt,WalkthroughPopover:qt},mixins:[Object(ht.a)()],props:{ciConfigData:{type:Object,required:!0},ciFileContent:{type:String,required:!0},commitSha:{type:String,required:!1,default:""},isNewCiConfigFile:{type:Boolean,required:!0},showDrawer:{type:Boolean,required:!0}},apollo:{appStatus:{query:u.a,update:e=>e.app.status}},computed:{isMergedYamlAvailable(){var e;return null===(e=this.ciConfigData)||void 0===e?void 0:e.mergedYaml},isEmpty(){return this.appStatus===s.l},isInvalid(){return this.appStatus===s.m},isLintUnavailable(){return this.appStatus===s.n},isValid(){return this.appStatus===s.p},isLoading(){return this.appStatus===s.o}},created(){const[e]=Object(S.n)(s.D);e&&s.C[e]&&this.setDefaultTab(e)},methods:{setCurrentTab(e){this.$emit("set-current-tab",e)},setDefaultTab(e){const t=Object(S.I)({[s.D]:s.C[e]});this.setCurrentTab(e),Object(S.L)({url:t,title:document.title,replace:!0})}}},Vt=Object(N.a)(Rt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-tabs",{staticClass:"file-editor gl-mb-3",attrs:{"data-qa-selector":"file_editor_container","query-param-name":e.$options.query.TAB_QUERY_PARAM,"sync-active-tab-with-query-params":""}},[i("editor-tab",{staticClass:"gl-mb-3",attrs:{"title-link-class":"js-walkthrough-popover-target",title:e.$options.i18n.tabEdit,lazy:"","data-testid":"editor-tab"},on:{click:function(t){return e.setCurrentTab(e.$options.tabConstants.CREATE_TAB)}}},[e.isNewCiConfigFile?i("walkthrough-popover",e._g({},e.$listeners)):e._e(),e._v(" "),i("ci-editor-header",e._g({attrs:{"show-drawer":e.showDrawer}},e.$listeners)),e._v(" "),i("text-editor",e._g({attrs:{"commit-sha":e.commitSha,value:e.ciFileContent}},e.$listeners))],1),e._v(" "),i("editor-tab",{staticClass:"gl-mb-3",attrs:{"empty-message":e.$options.i18n.empty.visualization,"is-empty":e.isEmpty,"is-invalid":e.isInvalid,"is-unavailable":e.isLintUnavailable,"keep-component-mounted":!1,title:e.$options.i18n.tabGraph,lazy:"","data-testid":"visualization-tab"},on:{click:function(t){return e.setCurrentTab(e.$options.tabConstants.VISUALIZE_TAB)}}},[e.isLoading?i("gl-loading-icon",{staticClass:"gl-m-3",attrs:{size:"lg"}}):i("pipeline-graph",{attrs:{"pipeline-data":e.ciConfigData}})],1),e._v(" "),i("editor-tab",{staticClass:"gl-mb-3",attrs:{"empty-message":e.$options.i18n.empty.lint,"is-empty":e.isEmpty,"is-unavailable":e.isLintUnavailable,title:e.$options.i18n.tabLint,"data-testid":"lint-tab"},on:{click:function(t){return e.setCurrentTab(e.$options.tabConstants.LINT_TAB)}}},[e.isLoading?i("gl-loading-icon",{staticClass:"gl-m-3",attrs:{size:"lg"}}):i("ci-lint",{attrs:{"is-valid":e.isValid,"ci-config":e.ciConfigData}})],1),e._v(" "),i("editor-tab",{staticClass:"gl-mb-3",attrs:{"empty-message":e.$options.i18n.empty.merge,"keep-component-mounted":!1,"is-empty":e.isEmpty,"is-invalid":e.isInvalid,"is-unavailable":e.isLintUnavailable,title:e.$options.i18n.tabMergedYaml,lazy:"","data-testid":"merged-tab"},on:{click:function(t){return e.setCurrentTab(e.$options.tabConstants.MERGED_TAB)}}},[e.isLoading?i("gl-loading-icon",{staticClass:"gl-m-3",attrs:{size:"lg"}}):e.isMergedYamlAvailable?i("ci-config-merged-preview",e._g({attrs:{"ci-config-data":e.ciConfigData}},e.$listeners)):i("gl-alert",{attrs:{variant:"danger",dismissible:!1}},[e._v("\n      "+e._s(e.$options.errorTexts.loadMergedYaml)+"\n    ")])],1)],1)}),[],!1,null,null,null).exports,At={commitSectionRef:"commitSectionRef",modal:{switchBranch:{title:Object(C.a)("You have unsaved changes"),body:Object(C.a)("Uncommitted changes will be lost if you change branches. Do you want to continue?"),actionPrimary:{text:Object(C.a)("Switch Branches")},actionSecondary:{text:Object(C.a)("Cancel"),attributes:{variant:"default"}}}},components:{CommitSection:Se,GlModal:y.a,PipelineEditorDrawer:Be,PipelineEditorFileNav:G,PipelineEditorHeader:Xe,PipelineEditorTabs:Vt},props:{ciConfigData:{type:Object,required:!0},ciFileContent:{type:String,required:!0},commitSha:{type:String,required:!1,default:""},hasUnsavedChanges:{type:Boolean,required:!1,default:!1},isNewCiConfigFile:{type:Boolean,required:!0}},data:()=>({currentTab:s.i,scrollToCommitForm:!1,shouldLoadNewBranch:!1,showDrawer:!1,showSwitchBranchModal:!1}),computed:{showCommitForm(){return this.currentTab===s.i}},methods:{closeBranchModal(){this.showSwitchBranchModal=!1},closeDrawer(){this.showDrawer=!1},handleConfirmSwitchBranch(){this.showSwitchBranchModal=!0},openDrawer(){this.showDrawer=!0},switchBranch(){this.showSwitchBranchModal=!1,this.shouldLoadNewBranch=!0},setCurrentTab(e){this.currentTab=e},setScrollToCommitForm(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scrollToCommitForm=e}}},Mt=Object(N.a)(At,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-transition-medium gl-w-full"},[e.showSwitchBranchModal?i("gl-modal",{attrs:{visible:"","modal-id":"switchBranchModal",title:e.$options.modal.switchBranch.title,"action-primary":e.$options.modal.switchBranch.actionPrimary,"action-secondary":e.$options.modal.switchBranch.actionSecondary},on:{primary:e.switchBranch,secondary:e.closeBranchModal,cancel:e.closeBranchModal,hide:e.closeBranchModal}},[e._v("\n    "+e._s(e.$options.modal.switchBranch.body)+"\n  ")]):e._e(),e._v(" "),i("pipeline-editor-file-nav",e._g({attrs:{"has-unsaved-changes":e.hasUnsavedChanges,"should-load-new-branch":e.shouldLoadNewBranch},on:{"select-branch":e.handleConfirmSwitchBranch}},e.$listeners)),e._v(" "),i("pipeline-editor-header",e._g({attrs:{"ci-config-data":e.ciConfigData,"commit-sha":e.commitSha,"is-new-ci-config-file":e.isNewCiConfigFile}},e.$listeners)),e._v(" "),i("pipeline-editor-tabs",e._g({attrs:{"ci-config-data":e.ciConfigData,"ci-file-content":e.ciFileContent,"commit-sha":e.commitSha,"is-new-ci-config-file":e.isNewCiConfigFile,"show-drawer":e.showDrawer},on:{"open-drawer":e.openDrawer,"close-drawer":e.closeDrawer,"set-current-tab":e.setCurrentTab,"walkthrough-popover-cta-clicked":e.setScrollToCommitForm}},e.$listeners)),e._v(" "),e.showCommitForm?i("commit-section",e._g({ref:e.$options.commitSectionRef,attrs:{"ci-file-content":e.ciFileContent,"commit-sha":e.commitSha,"has-unsaved-changes":e.hasUnsavedChanges,"is-new-ci-config-file":e.isNewCiConfigFile,"scroll-to-commit-form":e.scrollToCommitForm},on:{"scrolled-to-commit-form":function(t){return e.setScrollToCommitForm(!1)}}},e.$listeners)):e._e(),e._v(" "),i("pipeline-editor-drawer",e._g({attrs:{"is-visible":e.showDrawer},on:{"close-drawer":e.closeDrawer}},e.$listeners))],1)}),[],!1,null,null,null).exports;var Gt={components:{ConfirmUnsavedChangesDialog:P,GlLoadingIcon:k.a,GlModal:y.a,PipelineEditorEmptyState:z,PipelineEditorHome:Mt,PipelineEditorMessages:Q},inject:["ciConfigPath","newMergeRequestPath","projectFullPath"],data:()=>({ciConfigData:{},currentCiFileContent:"",failureType:null,failureReasons:[],initialCiFileContent:"",isFetchingCommitSha:!1,isLintUnavailable:!1,isNewCiConfigFile:!1,lastCommittedContent:"",shouldSkipStartScreen:!1,showFailure:!1,showResetConfirmationModal:!1,showStartScreen:!1,showSuccess:!1,starterTemplate:"",starterTemplateName:s.B,successType:null}),apollo:{initialCiFileContent:{fetchPolicy:r.fetchPolicies.NETWORK_ONLY,query:ee.a,skip(){return this.shouldSkipBlobContentQuery},variables(){return{projectPath:this.projectFullPath,path:this.ciConfigPath,ref:this.currentBranch}},update(e){var t,i,n,a;return null==e?void 0:null===(t=e.project)||void 0===t?void 0:null===(i=t.repository)||void 0===i?void 0:null===(n=i.blobs)||void 0===n?void 0:null===(a=n.nodes[0])||void 0===a?void 0:a.rawBlob},result(e){var t,i,n;let{data:a}=e;const r=null==a?void 0:null===(t=a.project)||void 0===t?void 0:null===(i=t.repository)||void 0===i?void 0:null===(n=i.blobs)||void 0===n?void 0:n.nodes;if(r){var o;const e=null===(o=r[0])||void 0===o?void 0:o.rawBlob,t=null!=e?e:"";this.lastCommittedContent=t,this.currentCiFileContent=t;const i=""===e||t.length>0;t.length||this.setAppStatus(s.l),i?t.length&&(this.showStartScreen=!1):this.shouldSkipStartScreen?this.setNewEmptyCiConfigFile():this.showStartScreen=!0}else this.reportFailure(s.t)},error(){this.reportFailure(s.t)},watchLoading(e){e&&this.setAppStatus(s.o)}},ciConfigData:{query:ie.a,skip(){return this.shouldSkipCiConfigQuery},variables(){return{projectPath:this.projectFullPath,sha:this.commitSha,content:this.currentCiFileContent}},update(e){var t;const{ciConfig:i}=e||{},n=(null==i?void 0:null===(t=i.stages)||void 0===t?void 0:t.nodes)||[],a=Object(w.a)(JSON.parse(JSON.stringify(n)));return{...i,stages:a}},result(e){var t;let{data:i}=e;null!=i&&null!==(t=i.ciConfig)&&void 0!==t&&t.status&&(this.setAppStatus(i.ciConfig.status),this.isLintUnavailable&&(this.isLintUnavailable=!1))},error(){this.isLintUnavailable=!0},watchLoading(e){e&&this.setAppStatus(s.o)}},appStatus:{query:u.a,update:e=>e.app.status},commitSha:{query:se.a,skip(e){let{currentBranch:t}=e;return!t},variables(){return{projectPath:this.projectFullPath,ref:this.currentBranch}},update(e){var t,i,n,a;const r=null==e?void 0:null===(t=e.project)||void 0===t?void 0:null===(i=t.repository)||void 0===i?void 0:null===(n=i.tree)||void 0===n?void 0:null===(a=n.lastCommit)||void 0===a?void 0:a.sha;return this.isFetchingCommitSha&&r===this.commitSha?(this.$apollo.queries.commitSha.startPolling(s.f),this.commitSha):(this.isFetchingCommitSha=!1,this.$apollo.queries.commitSha.stopPolling(),r)},error(){this.reportFailure(s.t)}},currentBranch:{query:c.a,update(e){var t,i;return null===(t=e.workBranches)||void 0===t?void 0:null===(i=t.current)||void 0===i?void 0:i.name}},starterTemplate:{query:ae.a,variables(){return{projectPath:this.projectFullPath,templateName:this.starterTemplateName}},skip(e){let{isNewCiConfigFile:t}=e;return!t},update(e){var t,i;return(null===(t=e.project)||void 0===t?void 0:null===(i=t.ciTemplate)||void 0===i?void 0:i.content)||""},result(e){var t,i;let{data:n}=e;this.updateCiConfig((null==n?void 0:null===(t=n.project)||void 0===t?void 0:null===(i=t.ciTemplate)||void 0===i?void 0:i.content)||"")},error(){this.reportFailure(s.t)}}},computed:{hasUnsavedChanges(){return this.lastCommittedContent!==this.currentCiFileContent},isBlobContentLoading(){return this.$apollo.queries.initialCiFileContent.loading},isCiConfigDataLoading(){return this.$apollo.queries.ciConfigData.loading},isEmpty(){return""===this.currentCiFileContent},shouldSkipBlobContentQuery(){return this.isNewCiConfigFile||this.lastCommittedContent||!this.currentBranch},shouldSkipCiConfigQuery(){return!this.currentCiFileContent||!this.commitSha}},i18n:{resetModal:{actionPrimary:{text:Object(C.a)("Reset file")},actionCancel:{text:Object(C.a)("Cancel")},body:Object(C.g)("Pipeline Editor|Are you sure you want to reset the file to its last committed version?"),title:Object(C.a)("Discard changes")}},watch:{isEmpty(e){e&&this.setAppStatus(s.l)},isLintUnavailable(e){e&&this.setAppStatus(s.n)}},mounted(){this.loadTemplateFromURL(),this.checkShouldSkipStartScreen()},methods:{checkShouldSkipStartScreen(){const e=Object(S.C)(window.location.search);this.shouldSkipStartScreen=Boolean(null==e?void 0:e.add_new_config_file)},confirmReset(){this.hasUnsavedChanges&&(this.showResetConfirmationModal=!0)},hideFailure(){this.showFailure=!1},hideSuccess(){this.showSuccess=!1},loadTemplateFromURL(){var e;const t=null===(e=Object(S.C)(window.location.search))||void 0===e?void 0:e.template;t&&(this.starterTemplateName=t,this.setNewEmptyCiConfigFile())},redirectToNewMergeRequest(e,t){const i=Object(S.z)({"merge_request[source_branch]":e,"merge_request[target_branch]":t},this.newMergeRequestPath);Object(S.D)(i)},async refetchContent(){this.$apollo.queries.initialCiFileContent.skip=!1,await this.$apollo.queries.initialCiFileContent.refetch()},reportFailure(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.showFailure=!0,this.failureType=e,this.failureReasons=t,window.scrollTo({top:0,behavior:"smooth"})},reportSuccess(e){window.scrollTo({top:0,behavior:"smooth"}),this.showSuccess=!0,this.successType=e},resetContent(){this.showResetConfirmationModal=!1,this.currentCiFileContent=this.lastCommittedContent},setAppStatus(e){s.q.includes(e)&&this.$apollo.mutate({mutation:Z.a,variables:{appStatus:e}})},setNewEmptyCiConfigFile(){this.isNewCiConfigFile=!0,this.showStartScreen=!1},showErrorAlert(e){let{type:t,reasons:i=[]}=e;this.reportFailure(t,i)},updateCiConfig(e){this.currentCiFileContent=e},updateCommitSha(){this.isFetchingCommitSha=!0,this.$apollo.queries.commitSha.refetch()},async updateOnCommit(e){let{type:t,params:i={}}=e;if(this.reportSuccess(t),this.isNewCiConfigFile&&(this.isNewCiConfigFile=!1),this.lastCommittedContent=this.currentCiFileContent,t===s.h){const{sourceBranch:e,targetBranch:t}=i;await this.$forceUpdate(),this.redirectToNewMergeRequest(e,t)}}}},Ht=Object(N.a)(Gt,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-mt-4 gl-relative"},[e.isBlobContentLoading?i("gl-loading-icon",{staticClass:"gl-m-3",attrs:{size:"lg"}}):e.showStartScreen?i("pipeline-editor-empty-state",{on:{createEmptyConfigFile:e.setNewEmptyCiConfigFile,refetchContent:e.refetchContent}}):i("div",[i("pipeline-editor-messages",{attrs:{"failure-type":e.failureType,"failure-reasons":e.failureReasons,"show-failure":e.showFailure,"show-success":e.showSuccess,"success-type":e.successType},on:{"hide-success":e.hideSuccess,"hide-failure":e.hideFailure}}),e._v(" "),i("pipeline-editor-home",{attrs:{"ci-config-data":e.ciConfigData,"ci-file-content":e.currentCiFileContent,"commit-sha":e.commitSha,"has-unsaved-changes":e.hasUnsavedChanges,"is-new-ci-config-file":e.isNewCiConfigFile},on:{commit:e.updateOnCommit,resetContent:e.confirmReset,showError:e.showErrorAlert,refetchContent:e.refetchContent,updateCiConfig:e.updateCiConfig,updateCommitSha:e.updateCommitSha}}),e._v(" "),i("gl-modal",{attrs:{"modal-id":"reset-content",title:e.$options.i18n.resetModal.title,"action-cancel":e.$options.i18n.resetModal.actionCancel,"action-primary":e.$options.i18n.resetModal.actionPrimary},on:{primary:e.resetContent},model:{value:e.showResetConfirmationModal,callback:function(t){e.showResetConfirmationModal=t},expression:"showResetConfirmationModal"}},[e._v("\n      "+e._s(e.$options.i18n.resetModal.body)+"\n    ")]),e._v(" "),i("confirm-unsaved-changes-dialog",{attrs:{"has-unsaved-changes":e.hasUnsavedChanges}})],1)],1)}),[],!1,null,null,null).exports;!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#js-pipeline-editor";const t=document.querySelector(e);if(!t)return null;const{initialBranchName:i,pipelineEtag:l,ciConfigPath:d,ciExamplesHelpPagePath:p,ciHelpPagePath:m,defaultBranch:v,emptyStateIllustrationPath:k,helpPaths:y,lintHelpPagePath:S,lintUnavailableHelpPagePath:C,needsHelpPagePath:w,newMergeRequestPath:_,pipelinePagePath:N,projectFullPath:P,projectPath:j,projectNamespace:E,runnerHelpPagePath:O,totalBranches:$,ymlHelpPagePath:T}=null==t?void 0:t.dataset,D=Object.fromEntries(Object.entries(o.d).map((function(e){let[i,{datasetKey:n}]=e;return[i,t.dataset[n]]})));n.default.use(a.default);const B=new a.default({defaultClient:Object(r.default)(g.a,{typeDefs:b.a,useGet:!0})}),{cache:F}=B.clients.defaultClient;F.writeQuery({query:u.a,data:{app:{__typename:"PipelineEditorApp",status:s.o}}}),F.writeQuery({query:c.a,data:{workBranches:{__typename:"BranchList",current:{__typename:"WorkBranch",name:i||v}}}}),F.writeQuery({query:h.a,data:{workBranches:{__typename:"BranchList",lastCommit:{__typename:"WorkBranch",name:""}}}}),F.writeQuery({query:f.a,data:{etags:{__typename:"EtagValues",pipeline:l}}}),new n.default({el:t,apolloProvider:B,provide:{ciConfigPath:d,ciExamplesHelpPagePath:p,ciHelpPagePath:m,configurationPaths:D,dataMethod:"graphql",defaultBranch:v,emptyStateIllustrationPath:k,helpPaths:y,lintHelpPagePath:S,lintUnavailableHelpPagePath:C,needsHelpPagePath:w,newMergeRequestPath:_,pipelinePagePath:N,projectFullPath:P,projectPath:j,projectNamespace:E,runnerHelpPagePath:O,totalBranches:parseInt($,10),ymlHelpPagePath:T},render:e=>e(Ht)})}()},131:function(e,t,i){i("uGLJ"),i("sH5Z"),e.exports=i("+bLF")},"1xFA":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"commitCIFile"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"action"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CommitActionMode"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"branch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"startBranch"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"message"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filePath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lastCommitId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"branch"},value:{kind:"Variable",name:{kind:"Name",value:"branch"}}},{kind:"ObjectField",name:{kind:"Name",value:"startBranch"},value:{kind:"Variable",name:{kind:"Name",value:"startBranch"}}},{kind:"ObjectField",name:{kind:"Name",value:"message"},value:{kind:"Variable",name:{kind:"Name",value:"message"}}},{kind:"ObjectField",name:{kind:"Name",value:"actions"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"action"},value:{kind:"Variable",name:{kind:"Name",value:"action"}}},{kind:"ObjectField",name:{kind:"Name",value:"filePath"},value:{kind:"Variable",name:{kind:"Name",value:"filePath"}}},{kind:"ObjectField",name:{kind:"Name",value:"lastCommitId"},value:{kind:"Variable",name:{kind:"Name",value:"lastCommitId"}}},{kind:"ObjectField",name:{kind:"Name",value:"content"},value:{kind:"Variable",name:{kind:"Name",value:"content"}}}]}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sha"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commitPipelinePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:586}};i.loc.source={body:"mutation commitCIFile(\n  $action: CommitActionMode!\n  $projectPath: ID!\n  $branch: String!\n  $startBranch: String\n  $message: String!\n  $filePath: String!\n  $lastCommitId: String!\n  $content: String\n) {\n  commitCreate(\n    input: {\n      projectPath: $projectPath\n      branch: $branch\n      startBranch: $startBranch\n      message: $message\n      actions: [\n        { action: $action, filePath: $filePath, lastCommitId: $lastCommitId, content: $content }\n      ]\n    }\n  ) {\n    __typename\n    commit {\n      __typename\n      id\n      sha\n    }\n    commitPipelinePath\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.commitCIFile=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"commitCIFile")},"3nUT":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getLatestCommitSha"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tree"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sha"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:222}};i.loc.source={body:"query getLatestCommitSha($projectPath: ID!, $ref: String) {\n  project(fullPath: $projectPath) {\n    id\n    repository {\n      tree(ref: $ref) {\n        lastCommit {\n          id\n          sha\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getLatestCommitSha=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"getLatestCommitSha")},"3wGV":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getBlobContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"path"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ref"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"blobs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paths"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"path"}}]}},{kind:"Argument",name:{kind:"Name",value:"ref"},value:{kind:"Variable",name:{kind:"Name",value:"ref"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rawBlob"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:250}};i.loc.source={body:"query getBlobContent($projectPath: ID!, $path: String!, $ref: String) {\n  project(fullPath: $projectPath) {\n    id\n    repository {\n      blobs(paths: [$path], ref: $ref) {\n        nodes {\n          id\n          rawBlob\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getBlobContent=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"getBlobContent")},"8xEB":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"e",(function(){return a})),i.d(t,"i",(function(){return r})),i.d(t,"f",(function(){return s})),i.d(t,"h",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"j",(function(){return c})),i.d(t,"g",(function(){return d})),i.d(t,"c",(function(){return u})),i.d(t,"b",(function(){return p}));const n="downstream",a="main",r="upstream",s=180,o="stage",l="layer",c="pipeline_graph_view_type",d="single_job",u="job_dropdown",p="missing_iid"},CJX0:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"templateName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ciTemplate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"templateName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:170}};i.loc.source={body:"query getTemplate($projectPath: ID!, $templateName: String!) {\n  project(fullPath: $projectPath) {\n    id\n    ciTemplate(name: $templateName) {\n      content\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getTemplate=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"getTemplate")},"Da7+":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateAppStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"appStatus"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateAppStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"appStatus"},value:{kind:"Variable",name:{kind:"Name",value:"appStatus"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:98}};i.loc.source={body:"mutation updateAppStatus($appStatus: String) {\n  updateAppStatus(appStatus: $appStatus) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateAppStatus=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"updateAppStatus")},Dext:function(e,t){var i={kind:"Document",definitions:[{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"PipelineEditorApp"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"status"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"BranchList"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"current"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkBranch"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"lastCommit"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkBranch"}}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"EtagValues"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"pipeline"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"WorkBranch"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"name"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"commit"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}]},{kind:"ObjectTypeExtension",name:{kind:"Name",value:"Query"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"app"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"PipelineEditorApp"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"etags"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"EtagValues"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"workBranches"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"BranchList"}},directives:[]}]}],loc:{start:0,end:305}};i.loc.source={body:"type PipelineEditorApp {\n  status: String!\n}\n\ntype BranchList {\n  current: WorkBranch!\n  lastCommit: WorkBranch!\n}\n\ntype EtagValues {\n  pipeline: String!\n}\n\ntype WorkBranch {\n  name: String!\n  commit: String\n}\n\nextend type Query {\n  app: PipelineEditorApp\n  etags: EtagValues\n  workBranches: BranchList\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=i},G7sT:function(e,t,i){var n=i("MfoV"),a=i("TkD4");e.exports=function(e){return a(n(e).toLowerCase())}},Gr03:function(e,t,i){"use strict";var n=i("Z2pp"),a=i("DQ7i"),r=i("jyii"),s=i("gCUY");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d=Object(s.c)({id:{type:String},tag:{type:String,default:"header"},variant:{type:String}},r.p),u=n.a.extend({name:r.p,functional:!0,props:d,render:function(e,t){var i=t.props,n=t.data,r=t.children,s=n.attrs||{};return n.attrs={},e("li",Object(a.a)(n,{attrs:{role:"presentation"}}),[e(i.tag,{staticClass:"dropdown-header",class:c({},"text-".concat(i.variant),i.variant),attrs:l(l({},s),{},{id:i.id||null,role:"heading"}),ref:"header"},r)])}}),p=i("6IRw");const h={components:{BDropdownHeader:u},inheritAttrs:!1};const m=i.n(p)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-header",this._g(this._b({staticClass:"gl-new-dropdown-section-header"},"b-dropdown-header",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,h,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=m},"H+IJ":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAvailableBranches"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectFullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchPattern"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectFullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"branchNames"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"searchPattern"},value:{kind:"Variable",name:{kind:"Name",value:"searchPattern"}}}],directives:[]}]}}]}}]}}],loc:{start:0,end:270}};i.loc.source={body:"query getAvailableBranches(\n  $limit: Int!\n  $offset: Int!\n  $projectFullPath: ID!\n  $searchPattern: String!\n) {\n  project(fullPath: $projectFullPath) {\n    id\n    repository {\n      branchNames(limit: $limit, offset: $offset, searchPattern: $searchPattern)\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getAvailableBranches=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"getAvailableBranches")},HJOD:function(e,t,i){"use strict";t.a={computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var e;return(e=this.$refs.input).setCustomValidity.apply(e,arguments)},checkValidity:function(){var e;return(e=this.$refs.input).checkValidity.apply(e,arguments)},reportValidity:function(){var e;return(e=this.$refs.input).reportValidity.apply(e,arguments)}}}},Ivjt:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return l}));var n=i("Z2pp"),a=i("DQ7i"),r=i("jyii"),s=i("gCUY"),o=Object(s.c)({id:{type:String},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},r.t),l=n.a.extend({name:r.t,functional:!0,props:o,render:function(e,t){var i=t.props,n=t.data,r=t.children;return e("form",Object(a.a)(n,{class:{"form-inline":i.inline,"was-validated":i.validated},attrs:{id:i.id,novalidate:i.novalidate}}),r)}})},J833:function(e,t,i){"use strict";var n=i("vKRd"),a=i.n(n),r=i("Fcvx"),s=i("cuRJ"),o=i("6IRw"),l=i.n(o);const c={components:{GlButton:s.a},props:{open:{type:Boolean,required:!0},headerHeight:{type:String,required:!1,default:""},zIndex:{type:Number,required:!1,default:r.x},variant:{type:String,required:!1,default:r.q.default,validator:e=>Object.keys(r.q).includes(e)}},computed:{positionFromTop(){return a()(this.headerHeight)?0:this.headerHeight},drawerStyles(){const e={top:this.positionFromTop,zIndex:this.zIndex};return this.positionFromTop&&(e.maxHeight=`calc(100vh - ${this.positionFromTop})`),e},variantClass(){return`gl-drawer-${this.variant}`}},watch:{open:{immediate:!0,handler(e){e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape)}}},beforeDestroy(){document.removeEventListener("keydown",this.handleEscape)},methods:{handleEscape(e){this.open&&27===e.keyCode&&this.$emit("close")}}};const d=l()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"gl-drawer"}},[e.open?i("aside",{staticClass:"gl-drawer",class:e.variantClass,style:e.drawerStyles},[i("div",{staticClass:"gl-drawer-header"},[i("span",{staticClass:"gl-drawer-title"},[e._t("title"),e._v(" "),i("gl-button",{staticClass:"gl-drawer-close-button",attrs:{category:"tertiary",size:"small",icon:"close","aria-label":"Close drawer"},on:{click:function(t){return e.$emit("close")}}})],2),e._v(" "),e._t("header")],2),e._v(" "),i("div",{staticClass:"gl-drawer-body"},[e._t("default")],2)]):e._e()])},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},NlHF:function(e,t,i){var n=i("ueyC");e.exports=function(e,t,i){var a=e.length;return i=void 0===i?a:i,!t&&i>=a?e:n(e,t,i)}},"Rd/K":function(e,t,i){"use strict";i.d(t,"b",(function(){return c}));var n=i("gCUY"),a=i("qx9o"),r=i("BhOj"),s=i("ST6S"),o=i("8Vyw"),l=i("ySPH"),c=Object(n.c)({value:{type:[String,Number],default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String},placeholder:{type:String},formatter:{type:Function},lazyFormatter:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},number:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},debounce:{type:[Number,String],default:0}},"formTextControls");t.a={model:{prop:"value",event:"update"},props:c,data:function(){var e=this.value;return{localValue:Object(l.e)(e),vModelValue:this.modifyValue(e)}},computed:{computedClass:function(){return[{"custom-range":"range"===this.type,"form-control-plaintext":this.plaintext&&"range"!==this.type&&"color"!==this.type,"form-control":!this.plaintext&&"range"!==this.type||"color"===this.type},this.sizeFormClass,this.stateClass]},computedDebounce:function(){return Object(s.d)(Object(o.c)(this.debounce,0),0)},hasFormatter:function(){return this.formatter.name!==c.formatter.default.name}},watch:{value:function(e){var t=Object(l.e)(e),i=this.modifyValue(e);t===this.localValue&&i===this.vModelValue||(this.clearDebounce(),this.localValue=t,this.vModelValue=i)}},created:function(){this.$_inputDebounceTimer=null},mounted:function(){this.$on("hook:beforeDestroy",this.clearDebounce)},methods:{clearDebounce:function(){clearTimeout(this.$_inputDebounceTimer),this.$_inputDebounceTimer=null},formatValue:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=Object(l.e)(e),!this.hasFormatter||this.lazyFormatter&&!i||(e=this.formatter(e,t)),e},modifyValue:function(e){return e=Object(l.e)(e),this.trim&&(e=e.trim()),this.number&&(e=Object(o.b)(e,e)),e},updateValue:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.lazy;if(!n||i){this.clearDebounce();var a=function(){if((e=t.modifyValue(e))!==t.vModelValue)t.vModelValue=e,t.$emit("update",e);else if(t.hasFormatter){var i=t.$refs.input;i&&e!==i.value&&(i.value=e)}},r=this.computedDebounce;r>0&&!n&&!i?this.$_inputDebounceTimer=setTimeout(a,r):a()}},onInput:function(e){if(!e.target.composing){var t=e.target.value,i=this.formatValue(t,e);!1===i||e.defaultPrevented?Object(r.d)(e,{propagation:!1}):(this.localValue=i,this.updateValue(i),this.$emit("input",i))}},onChange:function(e){var t=e.target.value,i=this.formatValue(t,e);!1===i||e.defaultPrevented?Object(r.d)(e,{propagation:!1}):(this.localValue=i,this.updateValue(i,!0),this.$emit("change",i))},onBlur:function(e){var t=e.target.value,i=this.formatValue(t,e,!0);!1!==i&&(this.localValue=Object(l.e)(this.modifyValue(i)),this.updateValue(i,!0)),this.$emit("blur",e)},focus:function(){this.disabled||Object(a.d)(this.$el)},blur:function(){this.disabled||Object(a.c)(this.$el)}}}},RzP1:function(e,t,i){"use strict";i.d(t,"l",(function(){return a})),i.d(t,"m",(function(){return r})),i.d(t,"n",(function(){return s})),i.d(t,"o",(function(){return o})),i.d(t,"p",(function(){return l})),i.d(t,"q",(function(){return c})),i.d(t,"e",(function(){return d})),i.d(t,"g",(function(){return u})),i.d(t,"h",(function(){return p})),i.d(t,"j",(function(){return h})),i.d(t,"k",(function(){return m})),i.d(t,"t",(function(){return f})),i.d(t,"v",(function(){return g})),i.d(t,"i",(function(){return v})),i.d(t,"s",(function(){return b})),i.d(t,"u",(function(){return k})),i.d(t,"F",(function(){return y})),i.d(t,"C",(function(){return S})),i.d(t,"D",(function(){return C})),i.d(t,"c",(function(){return w})),i.d(t,"d",(function(){return _})),i.d(t,"a",(function(){return N})),i.d(t,"b",(function(){return P})),i.d(t,"A",(function(){return j})),i.d(t,"B",(function(){return E})),i.d(t,"G",(function(){return O})),i.d(t,"E",(function(){return $})),i.d(t,"f",(function(){return T})),i.d(t,"w",(function(){return D})),i.d(t,"z",(function(){return B})),i.d(t,"x",(function(){return F})),i.d(t,"y",(function(){return x})),i.d(t,"r",(function(){return L}));var n=i("t9l/");const a="EMPTY",r="INVALID",s="LINT_DOWN",o="LOADING",l="VALID",c=[a,r,s,o,l],d="COMMIT_FAILURE",u="COMMIT_SUCCESS",p="COMMIT_SUCCESS_WITH_REDIRECT",h="DEFAULT_FAILURE",m="DEFAULT_SUCCESS",f="LOAD_FAILURE_UNKNOWN",g="PIPELINE_FAILURE",v="CREATE_TAB",b="LINT_TAB",k="MERGED_TAB",y="VISUALIZE_TAB",S={[v]:"0",[y]:"1",[b]:"2",[k]:"3"},C="tab",w="CREATE",_="UPDATE",N=20,P="500",j=500,E="Getting-Started",O={label:"pipeline_editor",actions:{browse_templates:"browse_templates"}},$="https://gitlab.com/gitlab-org/gitlab-foss/tree/master/lib/gitlab/ci/templates",T=1e3,D="runners_availability_section",B="runners_settings_link_clicked",F="runners_documentation_link_clicked",x="runners_settings_button_clicked",L={title:Object(n.g)("Pipelines|Get started with GitLab CI/CD"),runners:{title:Object(n.g)("Pipelines|Runners are available to run your jobs now"),subtitle:Object(n.g)("Pipelines|GitLab Runner is an application that works with GitLab CI/CD to run jobs in a pipeline. There are active runners available to run your jobs right now. If you prefer, you can %{settingsLinkStart}configure your runners%{settingsLinkEnd} or %{docsLinkStart}learn more%{docsLinkEnd} about runners.")},noRunners:{title:Object(n.g)("Pipelines|No runners detected"),subtitle:Object(n.g)("Pipelines|A GitLab Runner is an application that works with GitLab CI/CD to run jobs in a pipeline. Install GitLab Runner and register your own runners to get started with CI/CD."),cta:Object(n.g)("Pipelines|Install GitLab Runner")},learnBasics:{title:Object(n.g)("Pipelines|Learn the basics of pipelines and .yml files"),subtitle:Object(n.g)("Pipelines|Use a sample %{codeStart}.gitlab-ci.yml%{codeEnd} template file to explore how CI/CD works."),gettingStarted:{title:Object(n.g)('Pipelines|"Hello world" with GitLab CI'),description:Object(n.g)('Pipelines|Get familiar with GitLab CI syntax by  setting up a simple pipeline running a  "Hello world" script to see how it runs, explore how CI/CD works.'),cta:Object(n.g)("Pipelines|Try test template")}},templates:{title:Object(n.g)("Pipelines|Ready to set up CI/CD for your project?"),subtitle:Object(n.g)("Pipelines|Use a template based on your project's language or framework to get started with GitLab CI/CD.")}}},TkD4:function(e,t,i){var n=i("m1at")("toUpperCase");e.exports=n},Yw7B:function(e,t,i){"use strict";var n=i("odYa"),a=i.n(n),r=i("DT29"),s=i("qT/0"),o=i("vKRd"),l=i.n(o),c=i("4igz"),d=i("8xEB"),u=i("Z11J");const p=function(e,t){return`${e}-${t}`};var h={name:"LinksInner",STROKE_WIDTH:2,props:{containerId:{type:String,required:!0},containerMeasurements:{type:Object,required:!0},linksData:{type:Array,required:!0},pipelineId:{type:Number,required:!0},pipelineData:{type:Array,required:!0},defaultLinkColor:{type:String,required:!1,default:"gl-stroke-gray-200"},highlightedJob:{type:String,required:!1,default:""},viewType:{type:String,required:!1,default:d.h}},data:()=>({links:[],needsObject:null}),computed:{hasHighlightedJob(){return Boolean(this.highlightedJob)},isPipelineDataEmpty(){return l()(this.pipelineData)},highlightedJobs(){return this.hasHighlightedJob?[this.highlightedJob,...this.needsObject[this.highlightedJob]]:[]},highlightedLinks(){var e=this;if(this.hasHighlightedJob){return this.links.filter((function(t){return e.highlightedJobs.includes(t.source)&&e.highlightedJobs.includes(t.target)})).map((function(e){return e.ref}))}return[]},viewBox(){return[0,0,this.containerMeasurements.width,this.containerMeasurements.height]}},watch:{highlightedJob(){if(!this.needsObject){var e;const t=Object(r.a)(this.pipelineData);this.needsObject=null!==(e=Object(r.c)(t))&&void 0!==e?e:{}}},highlightedJobs(e){this.$emit("highlightedJobsChange",e)},linksData(){this.calculateLinkData()},viewType(){var e=this;this.$nextTick((function(){e.calculateLinkData()}))}},errorCaptured(e,t,i){Object(r.e)(this.$options.name,`error: ${e}, info: ${i}`)},mounted(){l()(this.linksData)||this.calculateLinkData()},methods:{isLinkHighlighted(e){return this.highlightedLinks.includes(e)},calculateLinkData(){try{this.links=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const n=document.getElementById(t);return e.map((function(e){const t=u.b(),a=e.source,r=e.target,s=`${a}${i}`,o=`${r}${i}`,l=document.getElementById(s),c=document.getElementById(o),d=l.getBoundingClientRect(),h=c.getBoundingClientRect(),m=n.getBoundingClientRect(),f=parseFloat(window.getComputedStyle(n,null).getPropertyValue("padding-left")||0),g=parseFloat(window.getComputedStyle(n,null).getPropertyValue("padding-top")||0),v=d.right-m.x-f,b=d.top-m.y-g+d.height/2,k=h.x-m.x-f,y=h.y-m.y-g+d.height/2,S=d.left-m.x-f,C=S===k?S:v;t.moveTo(C,b);const w=k-100,_=w+(k-w)/2;return w>C&&t.lineTo(w,b),t.bezierCurveTo(_,b,_,y,k,y),{...e,source:a,target:r,ref:p(a,r),path:t.toString()}}))}(this.linksData,this.containerId,`-${this.pipelineId}`)}catch(e){this.$emit("error",{type:c.h,reportToSentry:!1}),Object(r.e)(this.$options.name,e)}},getLinkClasses(e){return[this.isLinkHighlighted(e.ref)?"gl-stroke-blue-400":this.defaultLinkColor,{"gl-opacity-3":this.hasHighlightedJob&&!this.isLinkHighlighted(e.ref)}]}}},m=i("bPvS"),f=Object(m.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-display-flex gl-relative"},[i("svg",{staticClass:"gl-absolute gl-pointer-events-none",attrs:{id:"link-svg",viewBox:e.viewBox,width:e.containerMeasurements.width+"px",height:e.containerMeasurements.height+"px"}},e._l(e.links,(function(t){return i("path",{key:t.path,ref:t.ref,refInFor:!0,staticClass:"gl-fill-transparent gl-transition-duration-slow gl-transition-timing-function-ease",class:e.getLinkClasses(t),attrs:{d:t.path,"stroke-width":e.$options.STROKE_WIDTH}})})),0),e._v(" "),e._t("default")],2)}),[],!1,null,null,null).exports;const g=a()((function(e){const t=e.flatMap((function(e){let{groups:t}=e;return t}));return Object(s.d)(t).links}));var v={name:"LinksLayer",components:{LinksInner:f},props:{containerMeasurements:{type:Object,required:!0},pipelineData:{type:Array,required:!0},linksData:{type:Array,required:!1,default:function(){return[]}},showLinks:{type:Boolean,required:!1,default:!0}},computed:{containerZero(){return!this.containerMeasurements.width||!this.containerMeasurements.height},getLinksData(){return this.linksData.length>0?this.linksData:g(this.pipelineData)},showLinkedLayers(){return this.showLinks&&!this.containerZero}},errorCaptured(e,t,i){Object(r.e)(this.$options.name,`error: ${e}, info: ${i}`)}},b=Object(m.a)(v,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showLinkedLayers?i("links-inner",e._g(e._b({attrs:{"container-measurements":e.containerMeasurements,"links-data":e.getLinksData,"pipeline-data":e.pipelineData}},"links-inner",e.$attrs,!1),e.$listeners),[e._t("default")],2):i("div",[i("div",{staticClass:"gl-display-flex gl-relative"},[e._t("default")],2)])}),[],!1,null,null,null);t.a=b.exports},aFFW:function(e,t,i){"use strict";var n=i("4pZC"),a=i.n(n),r=i("vZRN"),s=i.n(r),o=i("ly/8"),l=i("QslC"),c=i("4zBw");var d={directives:{GlTooltip:o.a,GlResizeObserver:l.a},props:{title:{type:String,required:!1,default:""},placement:{type:String,required:!1,default:"top"},truncateTarget:{type:[String,Function],required:!1,default:""}},data:()=>({tooltipDisabled:!0}),computed:{classes(){return this.tooltipDisabled?"":"js-show-tooltip"},tooltip(){return{title:this.title,placement:this.placement,disabled:this.tooltipDisabled}}},watch:{title(){this.$nextTick(this.updateTooltip)}},created(){this.updateTooltipDebounced=a()(this.updateTooltip,300)},mounted(){this.updateTooltip()},methods:{selectTarget(){return s()(this.truncateTarget)?this.truncateTarget(this.$el):"child"===this.truncateTarget?this.$el.childNodes[0]:this.$el},updateTooltip(){this.tooltipDisabled=!Object(c.e)(this.selectTarget())},onResize(){this.updateTooltipDebounced()}}},u=i("bPvS"),p=Object(u.a)(d,(function(){var e=this.$createElement;return(this._self._c||e)("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:this.tooltip,expression:"tooltip"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer",value:this.onResize,expression:"onResize"}],staticClass:"gl-min-w-0",class:this.classes},[this._t("default")],2)}),[],!1,null,null,null);t.a=p.exports},bkta:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateLastCommitBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lastCommitBranch"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateLastCommitBranch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"lastCommitBranch"},value:{kind:"Variable",name:{kind:"Name",value:"lastCommitBranch"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:133}};i.loc.source={body:"mutation updateLastCommitBranch($lastCommitBranch: String) {\n  updateLastCommitBranch(lastCommitBranch: $lastCommitBranch) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateLastCommitBranch=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"updateLastCommitBranch")},hAnt:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));const{performance:n}=window,a="function"==typeof(null==n?void 0:n.now)&&Date.now()>document.createEvent("Event").timeStamp?()=>n.now():()=>Date.now(),r=new Map;let s=!1;const o=e=>{r.forEach((t,i)=>{let{bindTimeStamp:n,callback:a}=t;if(!(i.contains(e.target)||e.timeStamp<=n))try{a(e)}catch(e){0}})},l={bind:(e,t)=>{let{value:i,arg:n="click"}=t;if("function"!=typeof i)throw new Error(`[GlOutsideDirective] Value must be a function; got ${typeof i}!`);if("click"!==n)throw new Error(`[GlOutsideDirective] Cannot bind ${n} events; only click events are currently supported!`);r.has(e)||(s||s||(document.addEventListener("click",o),s=!0),r.set(e,{bindTimeStamp:a(),callback:i}))},unbind:e=>{r.delete(e),0===r.size&&s&&(document.removeEventListener("click",o),s=!1)}}},lRgI:function(e,t,i){"use strict";t.a={computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(e){this.$refs.input.selectionStart=e}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(e){this.$refs.input.selectionEnd=e}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(e){this.$refs.input.selectionDirection=e}}},methods:{select:function(){var e;(e=this.$refs.input).select.apply(e,arguments)},setSelectionRange:function(){var e;(e=this.$refs.input).setSelectionRange.apply(e,arguments)},setRangeText:function(){var e;(e=this.$refs.input).setRangeText.apply(e,arguments)}}}},m1at:function(e,t,i){var n=i("NlHF"),a=i("dKPA"),r=i("YHps"),s=i("MfoV");e.exports=function(e){return function(t){t=s(t);var i=a(t)?r(t):void 0,o=i?i[0]:t.charAt(0),l=i?n(i,1).join(""):t.slice(1);return o[e]()+l}}},mSOq:function(e,t,i){"use strict";var n=i("uJ0F"),a=i.n(n),r=i("6IRw"),s=i.n(r);const o={props:{totalItems:{type:Number,required:!1,default:0},fetchedItems:{type:Number,required:!0},maxListHeight:{type:Number,required:!1,default:0}},computed:{listHeight(){return{maxHeight:this.maxListHeight?`${this.maxListHeight}px`:"auto"}},legendText(){return this.totalItems>0?`Showing ${this.fetchedItems} of ${this.totalItems} items`:`Showing ${this.fetchedItems} items`}},watch:{fetchedItems(e,t){if(e>t){const{scrollHeight:e,scrollTop:t}=this.$refs.infiniteContainer;0!==e&&0===t&&(this.$options.adjustScrollHeight=e)}}},mounted(){this.$nextTick(()=>{this.$listeners.topReached&&!this.$listeners.bottomReached&&this.scrollDown()})},updated(){this.$nextTick(()=>{if(this.$options.adjustScrollHeight){const{scrollHeight:e}=this.$refs.infiniteContainer;let t=e-this.$options.adjustScrollHeight-5;t<1&&(t=1),this.scrollTo({top:t}),this.$options.adjustScrollHeight=null}})},methods:{scrollUp(){this.scrollTo({top:5})},scrollDown(){const{scrollHeight:e}=this.$refs.infiniteContainer;this.scrollTo({top:e-5})},scrollTo(e){let{top:t}=e;this.$refs.infiniteContainer.scrollTo({top:t})},topReached:a()((function(){this.$emit("topReached")}),1e3),bottomReached:a()((function(){this.$emit("bottomReached")}),1e3),itemsListHeight(){return this.$refs.infiniteContainer.scrollHeight},scrollTop(){return this.$refs.infiniteContainer.scrollTop},handleScroll:a()((function(){this.scrollTop()+this.maxListHeight>=this.itemsListHeight()?this.bottomReached():0===this.scrollTop()&&this.topReached()}))}};const l=s()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("header"),e._v(" "),i("div",e._g(e._b({ref:"infiniteContainer",staticClass:"gl-infinite-scroll-container",style:e.listHeight,on:{scroll:e.handleScroll}},"div",e.$attrs,!1),e.$listeners),[e._t("items")],2),e._v(" "),i("p",{staticClass:"gl-infinite-scroll-legend"},[e._t("default",[e._v("\n      "+e._s(e.legendText)+"\n    ")],{fetchedItems:e.fetchedItems,totalItems:e.totalItems})],2)],2)},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},oSqs:function(e,t,i){"use strict";var n=i("Z2pp"),a=i("jyii"),r=i("gCUY"),s=i("qx9o"),o=i("G55H"),l=i("ST6S"),c=i("8Vyw"),d=i("KpC0"),u=i("lRgI"),p=i("YxAH"),h=i("p+a6"),m=i("Rd/K"),f=i("HJOD"),g=i("1pIC"),v=i("qDIy"),b=i("PrCM"),k=i("pkvD"),y=i("3XSL"),S=i("9Q7u");function C(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var w="__bv__visibility_observer",_=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.callback=i.callback,this.margin=i.margin||0,this.once=i.once||!1,this.observer=null,this.visible=void 0,this.doneOnce=!1,this.createObserver(n)}var t,i,n;return t=e,(i=[{key:"createObserver",value:function(e){var t=this;if(this.observer&&this.stop(),!this.doneOnce&&Object(o.e)(this.callback)){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch(e){return this.doneOnce=!0,this.observer=void 0,void this.callback(null)}e.context.$nextTick((function(){Object(s.B)((function(){t.observer&&t.observer.observe(t.el)}))}))}}},{key:"handler",value:function(e){var t=e?e[0]:{},i=Boolean(t.isIntersecting||t.intersectionRatio>0);i!==this.visible&&(this.visible=i,this.callback(i),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}},{key:"stop",value:function(){this.observer&&this.observer.disconnect(),this.observer=null}}])&&C(t.prototype,i),n&&C(t,n),e}(),N=function(e){var t=e[w];t&&t.stop&&t.stop(),delete e[w]},P=function(e,t,i){var n=t.value,a=t.modifiers,r={margin:"0px",once:!1,callback:n};Object(S.h)(a).forEach((function(e){k.c.test(e)?r.margin="".concat(e,"px"):"once"===e.toLowerCase()&&(r.once=!0)})),N(e),e[w]=new _(e,r,i),e[w]._prevModifiers=Object(S.b)(a)},j={bind:P,componentUpdated:function(e,t,i){var n=t.value,a=t.oldValue,r=t.modifiers;r=Object(S.b)(r),!e||n===a&&e[w]&&Object(y.a)(r,e[w]._prevModifiers)||P(e,{value:n,modifiers:r},i)},unbind:function(e){N(e)}};function E(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?E(Object(i),!0).forEach((function(t){$(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function $(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var T=n.a.extend({name:a.G,directives:{"b-visible":j},mixins:[b.a,g.a,v.a,d.a,p.a,h.a,m.a,u.a,f.a],props:Object(r.c)(O(O(O(O(O({},d.b),p.b),h.b),m.b),{},{rows:{type:[Number,String],default:2},maxRows:{type:[Number,String]},wrap:{type:String,default:"soft"},noResize:{type:Boolean,default:!1},noAutoShrink:{type:Boolean,default:!1}}),a.G),data:function(){return{heightInPx:null}},computed:{computedStyle:function(){var e={resize:!this.computedRows||this.noResize?"none":null};return this.computedRows||(e.height=this.heightInPx,e.overflowY="scroll"),e},computedMinRows:function(){return Object(l.d)(Object(c.c)(this.rows,2),2)},computedMaxRows:function(){return Object(l.d)(this.computedMinRows,Object(c.c)(this.maxRows,0))},computedRows:function(){return this.computedMinRows===this.computedMaxRows?this.computedMinRows:null},computedAttrs:function(){var e=this.disabled,t=this.required;return{id:this.safeId(),name:this.name||null,form:this.form||null,disabled:e,placeholder:this.placeholder||null,required:t,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,rows:this.computedRows,wrap:this.wrap||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},computedListeners:function(){return O(O({},this.bvListeners),{},{input:this.onInput,change:this.onChange,blur:this.onBlur})}},watch:{localValue:function(){this.setHeight()}},mounted:function(){this.setHeight()},methods:{visibleCallback:function(e){e&&this.$nextTick(this.setHeight)},setHeight:function(){var e=this;this.$nextTick((function(){Object(s.B)((function(){e.heightInPx=e.computeHeight()}))}))},computeHeight:function(){if(this.$isServer||!Object(o.f)(this.computedRows))return null;var e=this.$el;if(!Object(s.u)(e))return null;var t=Object(s.k)(e),i=Object(c.b)(t.lineHeight,1),n=Object(c.b)(t.borderTopWidth,0)+Object(c.b)(t.borderBottomWidth,0),a=Object(c.b)(t.paddingTop,0)+Object(c.b)(t.paddingBottom,0),r=n+a,d=i*this.computedMinRows+r,u=Object(s.m)(e,"height")||t.height;Object(s.F)(e,"height","auto");var p=e.scrollHeight;Object(s.F)(e,"height",u);var h=Object(l.d)((p-a)/i,2),m=Object(l.e)(Object(l.d)(h,this.computedMinRows),this.computedMaxRows),f=Object(l.d)(Object(l.b)(m*i+r),d);return this.noAutoShrink&&Object(c.b)(u,0)>f?u:"".concat(f,"px")}},render:function(e){return e("textarea",{ref:"input",class:this.computedClass,style:this.computedStyle,directives:[{name:"b-visible",value:this.visibleCallback,modifiers:{640:!0}}],attrs:this.computedAttrs,domProps:{value:this.localValue},on:this.computedListeners})}}),D=i("6IRw");const B={prop:"value",event:"input"};const F={components:{BFormTextarea:T},inheritAttrs:!1,model:B,props:{value:{type:String,required:!1,default:""},noResize:{type:Boolean,required:!1,default:!0},submitOnEnter:{type:Boolean,required:!1,default:!1}},computed:{listeners(){var e=this;return{...this.$listeners,input:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.$emit("update",...i)},update:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.$emit(B.event,...i)}}},keypressEvent(){return this.submitOnEnter?"keyup":null}},methods:{handleKeyPress(e){13===e.keyCode&&(e.metaKey||e.ctrlKey)&&this.$emit("submit")}}};const x=i.n(D)()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-form-textarea",e._g(e._b({staticClass:"gl-form-input gl-form-textarea",attrs:{"no-resize":e.noResize,value:e.value},nativeOn:e._d({},[e.keypressEvent,function(t){return e.handleKeyPress(t)}])},"b-form-textarea",e.$attrs,!1),e.listeners))},staticRenderFns:[]},void 0,F,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=x},ueyC:function(e,t){e.exports=function(e,t,i){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(i=i>a?a:i)<0&&(i+=a),a=t>i?0:i-t>>>0,t>>>=0;for(var r=Array(a);++n<a;)r[n]=e[n+t];return r}},wHz9:function(e,t,i){"use strict";var n=i("Ivjt"),a=i("6IRw"),r=i.n(a);const s={components:{BForm:n.a},inheritAttrs:!1};const o=r()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-form",this._g(this._b({},"b-form",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},xWdu:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateCurrentBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currentBranch"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCurrentBranch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"currentBranch"},value:{kind:"Variable",name:{kind:"Name",value:"currentBranch"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:118}};i.loc.source={body:"mutation updateCurrentBranch($currentBranch: String) {\n  updateCurrentBranch(currentBranch: $currentBranch) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateCurrentBranch=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"updateCurrentBranch")},xjqj:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updatePipelineEtag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pipelineEtag"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePipelineEtag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pipelineEtag"},value:{kind:"Variable",name:{kind:"Name",value:"pipelineEtag"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:113}};i.loc.source={body:"mutation updatePipelineEtag($pipelineEtag: String) {\n  updatePipelineEtag(pipelineEtag: $pipelineEtag) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updatePipelineEtag=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"updatePipelineEtag")},zp2m:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getPipeline"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sha"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pipeline"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sha"},value:{kind:"Variable",name:{kind:"Name",value:"sha"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"detailedStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailedStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"detailsPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasDetails"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tooltip"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:667}};i.loc.source={body:"query getPipeline($fullPath: ID!, $sha: String!) {\n  project(fullPath: $fullPath) {\n    id\n    pipeline(sha: $sha) {\n      id\n      iid\n      status\n      commit {\n        id\n        title\n        webPath\n      }\n      detailedStatus {\n        id\n        detailsPath\n        icon\n        group\n        text\n      }\n      stages {\n        edges {\n          node {\n            id\n            name\n            status\n            detailedStatus {\n              detailsPath\n              group\n              hasDetails\n              icon\n              id\n              label\n              text\n              tooltip\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getPipeline=function(e,t){var i={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,s=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=a(e,t);n&&i.definitions.push(n)})),i}(i,"getPipeline")}},[[131,1,0,2,29,3,4,5,6,7,36,38,159,399,394,361]]]);
//# sourceMappingURL=pages.projects.ci.pipeline_editor.show.472faf76.chunk.js.map